{"code":"!function(t){function e(r){if(i[r])return i[r].exports;var s=i[r]={i:r,l:!1,exports:{}};return t[r].call(s.exports,s,s.exports,e),s.l=!0,s.exports}var i={};e.m=t,e.c=i,e.d=function(t,i,r){e.o(t,i)||Object.defineProperty(t,i,{enumerable:!0,get:r})},e.r=function(t){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(t,\"__esModule\",{value:!0})},e.t=function(t,i){if(1&i&&(t=e(t)),8&i)return t;if(4&i&&\"object\"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(e.r(r),Object.defineProperty(r,\"default\",{enumerable:!0,value:t}),2&i&&\"string\"!=typeof t)for(var s in t)e.d(r,s,function(e){return t[e]}.bind(null,s));return r},e.n=function(t){var i=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(i,\"a\",i),i},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p=\"\",e(e.s=0)}([function(t,e,i){i(1)},function(t,e,i){\"use strict\";i.r(e),function(t,r){var s=Math.tan,n=Math.floor,a=Math.min,o=Math.PI,l=Math.abs,h=(Math.round,Math.sqrt),c=Math.atan2,d=Math.acos,f=Math.cos,u=Math.sin,_=Math.max,g=Math.ceil;(self||window).Two=function(e){function s(){var t=document.body.getBoundingClientRect(),e=this.width=t.width,i=this.height=t.height;this.renderer.setSize(e,i,this.ratio)}function d(t,e){this.width=t,this.height=e,this.trigger(U.Events.resize,t,e)}function p(){for(var t,e=0;e<U.Instances.length;e++)(t=U.Instances[e]).playing&&t.update();U.nextFrameID=I(p)}var m=\"undefined\"==typeof window?void 0===t?\"undefined\"==typeof self?this:self:t:window,v=Object.prototype.toString,y={_indexAmount:0,natural:{slice:Array.prototype.slice,indexOf:Array.prototype.indexOf,keys:Object.keys,bind:Function.prototype.bind,create:Object.create},identity:function(t){return t},isArguments:function(t){return\"[object Arguments]\"===v.call(t)},isFunction:function(t){return\"[object Function]\"===v.call(t)},isString:function(t){return\"[object String]\"===v.call(t)},isNumber:function(t){return\"[object Number]\"===v.call(t)},isDate:function(t){return\"[object Date]\"===v.call(t)},isRegExp:function(t){return\"[object RegExp]\"===v.call(t)},isError:function(t){return\"[object Error]\"===v.call(t)},isFinite:function(t){return isFinite(t)&&!isNaN(parseFloat(t))},isNaN:function(t){return y.isNumber(t)&&t!==+t},isBoolean:function(t){return!0===t||!1===t||\"[object Boolean]\"===v.call(t)},isNull:function(t){return null===t},isUndefined:function(t){return void 0===t},isEmpty:function(t){return null==t||(O&&(y.isArray(t)||y.isString(t)||y.isArguments(t))?0===t.length:0===y.keys(t).length)},isElement:function(t){return!(!t||1!==t.nodeType)},isArray:Array.isArray||function(t){return\"[object Array]\"===v.call(t)},isObject:function(t){var e=typeof t;return\"function\"==e||\"object\"==e&&!!t},toArray:function(t){return t?y.isArray(t)?R.call(t):O(t)?y.map(t,y.identity):y.values(t):[]},range:function(t,e,i){null==e&&(e=t||0,t=0);for(var r=_(g((e-t)/(i=i||1)),0),s=Array(r),n=0;n<r;n++,t+=i)s[n]=t;return s},indexOf:function(t,e){if(y.natural.indexOf)return y.natural.indexOf.call(t,e);for(var i=0;i<t.length;i++)if(t[i]===e)return i;return-1},has:function(t,e){return null!=t&&hasOwnProperty.call(t,e)},bind:function(t,e){var i=y.natural.bind;if(i&&t.bind===i)return i.apply(t,R.call(arguments,1));var r=R.call(arguments,2);return function(){t.apply(e,r)}},extend:function(t){for(var e,i=R.call(arguments,1),r=0;r<i.length;r++)for(var s in e=i[r])t[s]=e[s];return t},defaults:function(t){for(var e,i=R.call(arguments,1),r=0;r<i.length;r++)for(var s in e=i[r])void 0===t[s]&&(t[s]=e[s]);return t},keys:function(t){if(!y.isObject(t))return[];if(y.natural.keys)return y.natural.keys(t);var e=[];for(var i in t)y.has(t,i)&&e.push(i);return e},values:function(t){for(var e,i=y.keys(t),r=[],s=0;s<i.length;s++)e=i[s],r.push(t[e]);return r},each:function(t,e,i){for(var r,s=i||this,n=!O(t)&&y.keys(t),a=(n||t).length,o=0;o<a;o++)r=n?n[o]:o,e.call(s,t[r],r,t);return t},map:function(t,e,i){for(var r,s=i||this,n=!O(t)&&y.keys(t),a=(n||t).length,o=[],l=0;l<a;l++)r=n?n[l]:l,o[l]=e.call(s,t[r],r,t);return o},once:function(t){var e=!1;return function(){return e?t:(e=!0,t.apply(this,arguments))}},after:function(t,e){return function(){for(;1>--t;)return e.apply(this,arguments)}},uniqueId:function(t){var e=++y._indexAmount+\"\";return t?t+e:e}},x=u,b=f,w=h,k=l,S=o,A=S/2,E=Math.pow,C=0,R=y.natural.slice,F=m.performance&&m.performance.now?m.performance:Date,O=function(t){var e=function(t){return null==t?void 0:t.length}(t);return\"number\"==typeof e&&0<=e&&e<=9007199254740991},P={temp:m.document?m.document.createElement(\"div\"):{},hasEventListeners:y.isFunction(m.addEventListener),bind:function(t,e,i,r){return this.hasEventListeners?t.addEventListener(e,i,!!r):t.attachEvent(\"on\"+e,i),P},unbind:function(t,e,i,r){return P.hasEventListeners?t.removeEventListeners(e,i,!!r):t.detachEvent(\"on\"+e,i),P},getRequestAnimationFrame:function(){var t,e=0,i=[\"ms\",\"moz\",\"webkit\",\"o\"],r=m.requestAnimationFrame;if(!r){for(var s=0;s<i.length;s++)r=m[i[s]+\"RequestAnimationFrame\"]||r,t=m[i[s]+\"CancelAnimationFrame\"]||m[i[s]+\"CancelRequestAnimationFrame\"]||t;r=r||function(t){var i=(new Date).getTime(),r=_(0,16-(i-e)),s=m.setTimeout(function(){t(i+r)},r);return e=i+r,s}}return r.init=y.once(p),r}},U=m.Two=function(t){var e=y.defaults(t||{},{fullscreen:!1,width:640,height:480,type:U.Types.svg,autostart:!1});if(y.each(e,function(t,e){/fullscreen/i.test(e)||/autostart/i.test(e)||(this[e]=t)},this),y.isElement(e.domElement)){var i=e.domElement.tagName.toLowerCase();/^(CanvasRenderer-canvas|WebGLRenderer-canvas|SVGRenderer-svg)$/.test(this.type+\"-\"+i)||(this.type=U.Types[i])}if(this.renderer=new U[this.type](this),U.Utils.setPlaying.call(this,e.autostart),this.frameCount=0,e.fullscreen){var r=y.bind(s,this);y.extend(document.body.style,{overflow:\"hidden\",margin:0,padding:0,top:0,left:0,right:0,bottom:0,position:\"fixed\"}),y.extend(this.renderer.domElement.style,{display:\"block\",top:0,left:0,right:0,bottom:0,position:\"fixed\"}),P.bind(m,\"resize\",r),r()}else y.isElement(e.domElement)||(this.renderer.setSize(e.width,e.height,this.ratio),this.width=e.width,this.height=e.height);this.renderer.bind(U.Events.resize,y.bind(d,this)),this.scene=this.renderer.scene,U.Instances.push(this),e.autostart&&I.init()};y.extend(U,{root:m,nextFrameID:null,Array:m.Float32Array||Array,Types:{webgl:\"WebGLRenderer\",svg:\"SVGRenderer\",canvas:\"CanvasRenderer\"},Version:\"v0.7.0\",PublishDate:\"2020-01-22T21:17:28.421Z\",Identifier:\"two-\",Events:{play:\"play\",pause:\"pause\",update:\"update\",render:\"render\",resize:\"resize\",change:\"change\",remove:\"remove\",insert:\"insert\",order:\"order\",load:\"load\"},Commands:{move:\"M\",line:\"L\",curve:\"C\",arc:\"A\",close:\"Z\"},Resolution:12,Instances:[],noConflict:function(){return m.Two=e,U},uniqueId:function(){var t=C;return C++,t},Utils:y.extend(y,{performance:F,defineProperty:function(t){var e=\"_\"+t,i=\"_flag\"+t.charAt(0).toUpperCase()+t.slice(1);Object.defineProperty(this,t,{enumerable:!0,get:function(){return this[e]},set:function(t){this[e]=t,this[i]=!0}})},Image:null,isHeadless:!1,shim:function(t,e){return U.CanvasRenderer.Utils.shim(t),y.isUndefined(e)||(U.Utils.Image=e),U.Utils.isHeadless=!0,t},release:function(t){if(y.isObject(t))return y.isFunction(t.unbind)&&t.unbind(),t.vertices&&(y.isFunction(t.vertices.unbind)&&t.vertices.unbind(),y.each(t.vertices,function(t){y.isFunction(t.unbind)&&t.unbind()})),t.children&&y.each(t.children,function(t){U.Utils.release(t)}),t},xhr:function(t,e){var i=new XMLHttpRequest;return i.open(\"GET\",t),i.onreadystatechange=function(){4===i.readyState&&200===i.status&&e(i.responseText)},i.send(),i},Curve:{CollinearityEpsilon:E(10,-30),RecursionLimit:16,CuspLimit:0,Tolerance:{distance:.25,angle:0,epsilon:Number.EPSILON},abscissas:[[.5773502691896257],[0,.7745966692414834],[.33998104358485626,.8611363115940526],[0,.5384693101056831,.906179845938664],[.2386191860831969,.6612093864662645,.932469514203152],[0,.4058451513773972,.7415311855993945,.9491079123427585],[.1834346424956498,.525532409916329,.7966664774136267,.9602898564975363],[0,.3242534234038089,.6133714327005904,.8360311073266358,.9681602395076261],[.14887433898163122,.4333953941292472,.6794095682990244,.8650633666889845,.9739065285171717],[0,.26954315595234496,.5190961292068118,.7301520055740494,.8870625997680953,.978228658146057],[.1252334085114689,.3678314989981802,.5873179542866175,.7699026741943047,.9041172563704749,.9815606342467192],[0,.2304583159551348,.44849275103644687,.6423493394403402,.8015780907333099,.9175983992229779,.9841830547185881],[.10805494870734367,.31911236892788974,.5152486363581541,.6872929048116855,.827201315069765,.9284348836635735,.9862838086968123],[0,.20119409399743451,.3941513470775634,.5709721726085388,.7244177313601701,.8482065834104272,.937273392400706,.9879925180204854],[.09501250983763744,.2816035507792589,.45801677765722737,.6178762444026438,.755404408355003,.8656312023878318,.9445750230732326,.9894009349916499]],weights:[[1],[.8888888888888888,.5555555555555556],[.6521451548625461,.34785484513745385],[.5688888888888889,.47862867049936647,.23692688505618908],[.46791393457269104,.3607615730481386,.17132449237917036],[.4179591836734694,.3818300505051189,.27970539148927664,.1294849661688697],[.362683783378362,.31370664587788727,.22238103445337448,.10122853629037626],[.3302393550012598,.31234707704000286,.26061069640293544,.1806481606948574,.08127438836157441],[.29552422471475287,.26926671930999635,.21908636251598204,.1494513491505806,.06667134430868814],[.2729250867779006,.26280454451024665,.23319376459199048,.18629021092773426,.1255803694649046,.05566856711617366],[.24914704581340277,.2334925365383548,.20316742672306592,.16007832854334622,.10693932599531843,.04717533638651183],[.2325515532308739,.22628318026289723,.2078160475368885,.17814598076194574,.13887351021978725,.09212149983772845,.04048400476531588],[.2152638534631578,.2051984637212956,.18553839747793782,.15720316715819355,.12151857068790319,.08015808715976021,.03511946033175186],[.2025782419255613,.19843148532711158,.1861610000155622,.16626920581699392,.13957067792615432,.10715922046717194,.07036604748810812,.03075324199611727],[.1894506104550685,.18260341504492358,.16915651939500254,.14959598881657674,.12462897125553388,.09515851168249279,.062253523938647894,.027152459411754096]]},devicePixelRatio:m.devicePixelRatio||1,getBackingStoreRatio:function(t){return t.webkitBackingStorePixelRatio||t.mozBackingStorePixelRatio||t.msBackingStorePixelRatio||t.oBackingStorePixelRatio||t.backingStorePixelRatio||1},getRatio:function(t){return U.Utils.devicePixelRatio/L(t)},setPlaying:function(t){return this.playing=!!t,this},getComputedMatrix:function(t,e){e=e&&e.identity()||new U.Matrix;for(var i=t,r=[];i&&i._matrix;)r.push(i._matrix),i=i.parent;r.reverse();for(var s=0;s<r.length;s++){var n=r[s].elements;e.multiply(n[0],n[1],n[2],n[3],n[4],n[5],n[6],n[7],n[8],n[9])}return e},decomposeMatrix:function(t){return{translateX:t.e,translateY:t.f,scaleX:t.a,scaleY:t.d,rotation:Math.asin(-t.b)}},extractCSSText:function(t,e){var i,r,s,n;e||(e={}),i=t.split(\";\");for(var a=0;a<i.length;a++)s=(r=i[a].split(\":\"))[0],n=r[1],!y.isUndefined(s)&&!y.isUndefined(n)&&(e[s]=n.replace(/\\s/,\"\"));return e},getSvgStyles:function(t){for(var e={},i=U.Utils.getSvgAttributes(t),r=_(i.length,t.style.length),s=0;s<r;s++){var n=t.style[s],a=i[s];n&&(e[n]=t.style[n]),a&&(e[a]=t.getAttribute(a))}return e},getSvgAttributes:function(t){for(var e=t.getAttributeNames(),i=[\"id\",\"class\",\"transform\",\"xmlns\",\"viewBox\"],r=0;r<i.length;r++){var s=i[r],n=y.indexOf(e,s);0<=n&&e.splice(n,1)}return e},applySvgViewBox:function(t,e){var i=e.split(/\\s/),r=parseFloat(i[0]),s=parseFloat(i[1]),n=parseFloat(i[2]),o=parseFloat(i[3]),l=a(this.width/n,this.height/o);return t.translation.x-=r*l,t.translation.y-=s*l,t.scale=l,t},applySvgAttributes:function(t,e,i){var r,s,n,a,l={},h={},c={};if(m.getComputedStyle){var d=m.getComputedStyle(t);for(r=d.length;r--;)n=d[s=d[r]],y.isUndefined(n)||(l[s]=n)}for(r=0;r<t.attributes.length;r++)a=t.attributes[r],/style/i.test(a.nodeName)?U.Utils.extractCSSText(a.value,c):h[a.nodeName]=a.value;for(s in y.isUndefined(l.opacity)||(l[\"stroke-opacity\"]=l.opacity,l[\"fill-opacity\"]=l.opacity,delete l.opacity),i&&y.defaults(l,i),y.extend(l,h,c),l.visible=!(y.isUndefined(l.display)&&/none/i.test(l.display))||y.isUndefined(l.visibility)&&/hidden/i.test(l.visibility),l)switch(n=l[s],s){case\"transform\":if(/none/i.test(n))break;var f=t.transform&&t.transform.baseVal&&0<t.transform.baseVal.length?t.transform.baseVal[0].matrix:t.getCTM?t.getCTM():null;if(y.isNull(f))break;var u=U.Utils.decomposeMatrix(f);e.translation.set(u.translateX,u.translateY),e.rotation=o*(u.rotation/180),e.scale=new U.Vector(u.scaleX,u.scaleY);var _=parseFloat((l.x+\"\").replace(\"px\")),g=parseFloat((l.y+\"\").replace(\"px\"));_&&(e.translation.x=_),g&&(e.translation.y=g);break;case\"viewBox\":U.Utils.applySvgViewBox.call(this,e,n);break;case\"visible\":if(e instanceof U.Group){e._visible=n;break}e.visible=n;break;case\"stroke-linecap\":if(e instanceof U.Group){e._cap=n;break}e.cap=n;break;case\"stroke-linejoin\":if(e instanceof U.Group){e._join=n;break}e.join=n;break;case\"stroke-miterlimit\":if(e instanceof U.Group){e._miter=n;break}e.miter=n;break;case\"stroke-width\":if(e instanceof U.Group){e._linewidth=parseFloat(n);break}e.linewidth=parseFloat(n);break;case\"opacity\":case\"stroke-opacity\":case\"fill-opacity\":if(e instanceof U.Group){e._opacity=parseFloat(n);break}e.opacity=parseFloat(n);break;case\"fill\":case\"stroke\":if(e instanceof U.Group&&(s=\"_\"+s),/url\\(#.*\\)/i.test(n)){var p=U.Utils.getScene(this);e[s]=p.getById(n.replace(/url\\(#(.*)\\)/i,\"$1\"))}else e[s]=/none/i.test(n)?\"transparent\":n;break;case\"id\":e.id=n,t.id=n+\"-\"+U.Identifier+\"applied\";break;case\"class\":case\"className\":e.classList=n.split(\" \")}return l},getScene:function(t){for(;t.parent;)t=t.parent;return t.scene},read:{svg:function(t){var e=U.Utils.read.g.call(this,t);t.getAttribute(\"viewBox\");return e},defs:function(){var t=new U.Utils.Error(\"interpret <defs /> not supported.\");return console.warn(t.name,t.message),null},use:function(){var t=new U.Utils.Error(\"interpret <use /> not supported.\");return console.warn(t.name,t.message),null},g:function(t,e){var i,r=new U.Group;U.Utils.applySvgAttributes.call(this,t,r,e),this.add(r),i=U.Utils.getSvgStyles.call(this,t);for(var s=0,n=t.childNodes.length;s<n;s++){var a=t.childNodes[s],o=a.nodeName;if(!o)return;var l=o.replace(/svg:/gi,\"\").toLowerCase();if(l in U.Utils.read){var h=U.Utils.read[l].call(r,a,i);!h||h.parent||r.add(h)}}return r},polygon:function(t,e){var i=t.getAttribute(\"points\"),r=[];i.replace(/(-?[\\d.?]+)[,|\\s](-?[\\d.?]+)/g,function(t,e,i){r.push(new U.Anchor(parseFloat(e),parseFloat(i)))});var s=new U.Path(r,!0).noStroke();return s.fill=\"black\",U.Utils.applySvgAttributes.call(this,t,s,e),s},polyline:function(t,e){var i=U.Utils.read.polygon.call(this,t,e);return i.closed=!1,i},path:function(t,e){var i=t.getAttribute(\"d\"),r=[],s=!1,n=!1;if(i){var a,o,l=new U.Anchor,h=i.match(/[a-df-z][^a-df-z]*/gi),c=h.length-1;y.each(h.slice(0),function(t,e){var i,r,s,n,a,o,l,c,d,f=t[0],u=f.toLowerCase(),_=t.slice(1).trim().split(/[\\s,]+|(?=\\s?[+-])/),g=[],p=!1;for(a=0;a<_.length;a++)if((i=_[a]).indexOf(\".\")!==i.lastIndexOf(\".\")){for(s=(r=i.split(\".\"))[0]+\".\"+r[1],_.splice(a,1,s),n=2;n<r.length;n++)_.splice(a+n-1,0,\"0.\"+r[n]);p=!0}if(p&&(t=f+_.join(\",\")),0>=e&&(h=[]),\"h\"===u||\"v\"===u?1<_.length&&(d=1):\"m\"===u||\"l\"===u||\"t\"===u?2<_.length&&(d=2):\"s\"===u||\"q\"===u?4<_.length&&(d=4):\"c\"===u?6<_.length&&(d=6):\"a\"===u&&(7<_.length&&(d=7)),d){for(a=0,l=_.length,c=0;a<l;a+=d)o=f,0<c&&(\"m\"===f?o=\"l\":\"M\"===f&&(o=\"L\")),g.push(o+_.slice(a,a+d).join(\" \")),c++;h=Array.prototype.concat.apply(h,g)}else h.push(t)}),y.each(h,function(t,e){var i,h,d,f,u,_,g,p,m,v,x,b,w=t[0],k=w.toLowerCase();switch(o=(o=(o=t.slice(1).trim()).replace(/(-?\\d+(?:\\.\\d*)?)[eE]([+-]?\\d+)/g,function(t,e,i){return parseFloat(e)*E(10,i)})).split(/[\\s,]+|(?=\\s?[+-])/),n=w===k,k){case\"z\":if(e>=c)s=!0;else{h=l.x,d=l.y,i=new U.Anchor(h,d,void 0,void 0,void 0,void 0,U.Commands.close);for(var S,A=r.length-1;0<=A;A--)if(S=r[A],/m/i.test(S.command)){l=S;break}}break;case\"m\":case\"l\":a=void 0,h=parseFloat(o[0]),d=parseFloat(o[1]),i=new U.Anchor(h,d,void 0,void 0,void 0,void 0,/m/i.test(k)?U.Commands.move:U.Commands.line),n&&i.addSelf(l),l=i;break;case\"h\":case\"v\":var C=/h/i.test(k)?\"x\":\"y\",R=/x/i.test(C)?\"y\":\"x\";(i=new U.Anchor(void 0,void 0,void 0,void 0,void 0,void 0,U.Commands.line))[C]=parseFloat(o[0]),i[R]=l[R],n&&(i[C]+=l[C]),l=i;break;case\"c\":case\"s\":f=l.x,u=l.y,a||(a=new U.Vector),/c/i.test(k)?(_=parseFloat(o[0]),g=parseFloat(o[1]),p=parseFloat(o[2]),m=parseFloat(o[3]),v=parseFloat(o[4]),x=parseFloat(o[5])):(_=(b=G(l,a,n)).x,g=b.y,p=parseFloat(o[0]),m=parseFloat(o[1]),v=parseFloat(o[2]),x=parseFloat(o[3])),n&&(_+=f,g+=u,p+=f,m+=u,v+=f,x+=u),y.isObject(l.controls)||U.Anchor.AppendCurveProperties(l),l.controls.right.set(_-l.x,g-l.y),i=new U.Anchor(v,x,p-v,m-x,void 0,void 0,U.Commands.curve),l=i,a=i.controls.left;break;case\"t\":case\"q\":f=l.x,u=l.y,a||(a=new U.Vector),/q/i.test(k)?(_=parseFloat(o[0]),g=parseFloat(o[1]),p=parseFloat(o[0]),m=parseFloat(o[1]),v=parseFloat(o[2]),x=parseFloat(o[3])):(_=(b=G(l,a,n)).x,g=b.y,p=b.x,m=b.y,v=parseFloat(o[0]),x=parseFloat(o[1])),n&&(_+=f,g+=u,p+=f,m+=u,v+=f,x+=u),y.isObject(l.controls)||U.Anchor.AppendCurveProperties(l),l.controls.right.set(.33*(_-l.x),.33*(g-l.y)),i=new U.Anchor(v,x,p-v,m-x,void 0,void 0,U.Commands.curve),l=i,a=i.controls.left;break;case\"a\":f=l.x,u=l.y;var F=parseFloat(o[0]),O=parseFloat(o[1]),P=parseFloat(o[2]),T=parseFloat(o[3]),N=parseFloat(o[4]);v=parseFloat(o[5]),x=parseFloat(o[6]),n&&(v+=f,x+=u);var j=new U.Anchor(v,x);j.command=U.Commands.arc,j.rx=F,j.ry=O,j.xAxisRotation=P,j.largeArcFlag=T,j.sweepFlag=N,i=j,l=j,a=void 0}i&&(y.isArray(i)?r=r.concat(i):r.push(i))})}(i=new U.Path(r,s,void 0,!0).noStroke()).fill=\"black\";var d=i.getBoundingClientRect(!0);return d.centroid={x:d.left+d.width/2,y:d.top+d.height/2},y.each(i.vertices,function(t){t.subSelf(d.centroid)}),U.Utils.applySvgAttributes.call(this,t,i,e),i.translation.addSelf(d.centroid),i},circle:function(t,e){var i=parseFloat(t.getAttribute(\"cx\")),r=parseFloat(t.getAttribute(\"cy\")),s=parseFloat(t.getAttribute(\"r\")),n=new U.Circle(i,r,s).noStroke();return n.fill=\"black\",U.Utils.applySvgAttributes.call(this,t,n,e),n},ellipse:function(t,e){var i=parseFloat(t.getAttribute(\"cx\")),r=parseFloat(t.getAttribute(\"cy\")),s=parseFloat(t.getAttribute(\"rx\")),n=parseFloat(t.getAttribute(\"ry\")),a=new U.Ellipse(i,r,s,n).noStroke();return a.fill=\"black\",U.Utils.applySvgAttributes.call(this,t,a,e),a},rect:function(t,e){var i=parseFloat(t.getAttribute(\"rx\")),r=parseFloat(t.getAttribute(\"ry\"));if(!y.isNaN(i)||!y.isNaN(r))return U.Utils.read[\"rounded-rect\"](t);var s=parseFloat(t.getAttribute(\"x\"))||0,n=parseFloat(t.getAttribute(\"y\"))||0,a=parseFloat(t.getAttribute(\"width\")),o=parseFloat(t.getAttribute(\"height\")),l=new U.Rectangle(s+a/2,n+o/2,a,o).noStroke();return l.fill=\"black\",U.Utils.applySvgAttributes.call(this,t,l,e),l},\"rounded-rect\":function(t,e){var i=parseFloat(t.getAttribute(\"x\"))||0,r=parseFloat(t.getAttribute(\"y\"))||0,s=parseFloat(t.getAttribute(\"rx\"))||0,n=parseFloat(t.getAttribute(\"ry\"))||0,a=parseFloat(t.getAttribute(\"width\")),o=parseFloat(t.getAttribute(\"height\")),l=new U.Vector(s,n),h=new U.RoundedRectangle(i+a/2,r+o/2,a,o,l).noStroke();return h.fill=\"black\",U.Utils.applySvgAttributes.call(this,t,h,e),h},line:function(t,e){var i=parseFloat(t.getAttribute(\"x1\")),r=parseFloat(t.getAttribute(\"y1\")),s=parseFloat(t.getAttribute(\"x2\")),n=parseFloat(t.getAttribute(\"y2\")),a=new U.Line(i,r,s,n).noFill();return U.Utils.applySvgAttributes.call(this,t,a,e),a},lineargradient:function(t,e){for(var i=parseFloat(t.getAttribute(\"x1\")),r=parseFloat(t.getAttribute(\"y1\")),s=parseFloat(t.getAttribute(\"x2\")),n=parseFloat(t.getAttribute(\"y2\")),a=(s+i)/2,o=(n+r)/2,l=[],h=0;h<t.children.length;h++){var c=t.children[h],d=c.getAttribute(\"offset\");/%/gi.test(d)&&(d=parseFloat(d.replace(/%/gi,\"\"))/100),d=parseFloat(d);var f,u=c.getAttribute(\"stop-color\"),_=c.getAttribute(\"stop-opacity\"),g=c.getAttribute(\"style\");y.isNull(u)&&(u=(f=!!g&&g.match(/stop-color:\\s?([#a-fA-F0-9]*)/))&&1<f.length?f[1]:void 0),y.isNull(_)?_=(f=!!g&&g.match(/stop-opacity:\\s?([0-9.-]*)/))&&1<f.length?parseFloat(f[1]):1:_=parseFloat(_),l.push(new U.Gradient.Stop(d,u,_))}var p=new U.LinearGradient(i-a,r-o,s-a,n-o,l);return U.Utils.applySvgAttributes.call(this,t,p,e),p},radialgradient:function(t,e){var i=parseFloat(t.getAttribute(\"cx\"))||0,r=parseFloat(t.getAttribute(\"cy\"))||0,s=parseFloat(t.getAttribute(\"r\")),n=parseFloat(t.getAttribute(\"fx\")),a=parseFloat(t.getAttribute(\"fy\"));y.isNaN(n)&&(n=i),y.isNaN(a)&&(a=r);for(var o=k(i+n)/2,l=k(r+a)/2,h=[],c=0;c<t.children.length;c++){var d=t.children[c],f=d.getAttribute(\"offset\");/%/gi.test(f)&&(f=parseFloat(f.replace(/%/gi,\"\"))/100),f=parseFloat(f);var u,_=d.getAttribute(\"stop-color\"),g=d.getAttribute(\"stop-opacity\"),p=d.getAttribute(\"style\");y.isNull(_)&&(_=(u=!!p&&p.match(/stop-color:\\s?([#a-fA-F0-9]*)/))&&1<u.length?u[1]:void 0),y.isNull(g)?g=(u=!!p&&p.match(/stop-opacity:\\s?([0-9.-]*)/))&&1<u.length?parseFloat(u[1]):1:g=parseFloat(g),h.push(new U.Gradient.Stop(f,_,g))}var m=new U.RadialGradient(i-o,r-l,s,h,n-o,a-l);return U.Utils.applySvgAttributes.call(this,t,m,e),m}},subdivide:function(t,e,i,r,s,n,a,o,l){var h=(l=l||U.Utils.Curve.RecursionLimit)+1;if(.001>k(t-a)&&.001>k(e-o))return[new U.Anchor(a,o)];for(var c=[],d=0;d<h;d++){var f=d/h,u=M(f,t,i,s,a),_=M(f,e,r,n,o);c.push(new U.Anchor(u,_))}return c},getComponentOnCubicBezier:function(t,e,i,r,s){var n=1-t;return n*n*n*e+3*n*n*t*i+3*n*t*t*r+t*t*t*s},getCurveLength:function(t,e,i,r,s,n,a,o,l){if(t===i&&e===r&&s===a&&n===o){var h=a-t,c=o-e;return w(h*h+c*c)}return V(function(l){var h=((9*(i-s)+3*(a-t))*l+(6*(t+s)-12*i))*l+3*(i-t),c=((9*(r-n)+3*(o-e))*l+(6*(e+n)-12*r))*l+3*(r-e);return w(h*h+c*c)},0,1,l||U.Utils.Curve.RecursionLimit)},getCurveBoundingBox:function(t,e,i,r,s,n,o,l){for(var c,d,f,u,g,p,m,v,y=[],x=[[],[]],b=0;2>b;++b)if(0==b?(d=6*t-12*i+6*s,c=-3*t+9*i-9*s+3*o,f=3*i-3*t):(d=6*e-12*r+6*n,c=-3*e+9*r-9*n+3*l,f=3*r-3*e),1e-12>k(c)){if(1e-12>k(d))continue;0<(u=-f/d)&&1>u&&y.push(u)}else v=h(m=d*d-4*f*c),!(0>m)&&(0<(g=(-d+v)/(2*c))&&1>g&&y.push(g),0<(p=(-d-v)/(2*c))&&1>p&&y.push(p));for(var w,S=y.length,A=S;S--;)w=1-(u=y[S]),x[0][S]=w*w*w*t+3*w*w*u*i+3*w*u*u*s+u*u*u*o,x[1][S]=w*w*w*e+3*w*w*u*r+3*w*u*u*n+u*u*u*l;return x[0][A]=t,x[1][A]=e,x[0][A+1]=o,x[1][A+1]=l,x[0].length=x[1].length=A+2,{min:{x:a.apply(0,x[0]),y:a.apply(0,x[1])},max:{x:_.apply(0,x[0]),y:_.apply(0,x[1])}}},integrate:function(t,e,i,r){for(var s,n=U.Utils.Curve.abscissas[r-2],a=U.Utils.Curve.weights[r-2],o=.5*(i-e),l=o+e,h=0,c=1&r?a[h++]*t(l):0;h<r+1>>1;)s=o*n[h],c+=a[h++]*(t(l+s)+t(l-s));return o*c},getCurveFromPoints:function(t,e){for(var i,r=t.length,s=0;s<r;s++){i=t[s],y.isObject(i.controls)||U.Anchor.AppendCurveProperties(i);var n=e?j(s-1,r):_(s-1,0),o=e?j(s+1,r):a(s+1,r-1),l=t[n],h=i,c=t[o];N(l,h,c),h.command=0===s?U.Commands.move:U.Commands.curve}},getControlPoints:function(t,e,i){var r=U.Vector.angleBetween(t,e),s=U.Vector.angleBetween(i,e),n=U.Vector.distanceBetween(t,e),a=U.Vector.distanceBetween(i,e),o=(r+s)/2;return 1e-4>n||1e-4>a?(y.isBoolean(e.relative)&&!e.relative&&(e.controls.left.copy(e),e.controls.right.copy(e)),e):(n*=.33,a*=.33,s<r?o+=A:o-=A,e.controls.left.x=b(o)*n,e.controls.left.y=x(o)*n,o-=S,e.controls.right.x=b(o)*a,e.controls.right.y=x(o)*a,y.isBoolean(e.relative)&&!e.relative&&(e.controls.left.x+=e.x,e.controls.left.y+=e.y,e.controls.right.x+=e.x,e.controls.right.y+=e.y),e)},getReflection:function(t,e,i){return new U.Vector(2*t.x-(e.x+t.x)-(i?t.x:0),2*t.y-(e.y+t.y)-(i?t.y:0))},getAnchorsFromArcData:function(t,e,i,r,s,n,a){var o=U.Resolution;return y.map(y.range(o),function(t){var e=(t+1)/o;a&&(e=1-e);var l=e*n+s,h=i*f(l),c=r*u(l),d=new U.Anchor(h,c);return U.Anchor.AppendCurveProperties(d),d.command=U.Commands.line,d})},lerp:function(t,e,i){return i*(e-t)+t},toFixed:function(t){return n(1e3*t)/1e3},mod:function(t,e){for(;0>t;)t+=e;return t%e},Collection:function(){Array.call(this),1<arguments.length?Array.prototype.push.apply(this,arguments):arguments[0]&&Array.isArray(arguments[0])&&Array.prototype.push.apply(this,arguments[0])},Error:function(t){this.name=\"Two.js\",this.message=t},Events:{on:function(t,e){return this._events||(this._events={}),(this._events[t]||(this._events[t]=[])).push(e),this},off:function(t,e){if(!this._events)return this;if(!t&&!e)return this._events={},this;for(var i=t?[t]:y.keys(this._events),r=0,s=i.length;r<s;r++){t=i[r];var n=this._events[t];if(n){var a=[];if(e)for(var o,l=0,h=n.length;l<h;l++)o=(o=n[l]).handler?o.handler:o,e&&e!==o&&a.push(o);this._events[t]=a}}return this},trigger:function(t){if(!this._events)return this;var e=R.call(arguments,1),i=this._events[t];return i&&T(this,i,e),this},listen:function(t,e,i){var r=this;if(t){var s=function(){i.apply(r,arguments)};s.obj=t,s.name=e,s.handler=i,t.on(e,s)}return this},ignore:function(t,e,i){return t.off(e,i),this}}})}),U.Utils.Events.bind=U.Utils.Events.on,U.Utils.Events.unbind=U.Utils.Events.off;var T=function(t,e,i){var r;switch(i.length){case 0:r=function(r){e[r].call(t,i[0])};break;case 1:r=function(r){e[r].call(t,i[0],i[1])};break;case 2:r=function(r){e[r].call(t,i[0],i[1],i[2])};break;case 3:r=function(r){e[r].call(t,i[0],i[1],i[2],i[3])};break;default:r=function(r){e[r].apply(t,i)}}for(var s=0;s<e.length;s++)r(s)};U.Utils.Error.prototype=new Error,U.Utils.Error.prototype.constructor=U.Utils.Error,U.Utils.Collection.prototype=[],U.Utils.Collection.prototype.constructor=U.Utils.Collection,y.extend(U.Utils.Collection.prototype,U.Utils.Events,{pop:function(){var t=Array.prototype.pop.apply(this,arguments);return this.trigger(U.Events.remove,[t]),t},shift:function(){var t=Array.prototype.shift.apply(this,arguments);return this.trigger(U.Events.remove,[t]),t},push:function(){var t=Array.prototype.push.apply(this,arguments);return this.trigger(U.Events.insert,arguments),t},unshift:function(){var t=Array.prototype.unshift.apply(this,arguments);return this.trigger(U.Events.insert,arguments),t},splice:function(){var t,e=Array.prototype.splice.apply(this,arguments);return this.trigger(U.Events.remove,e),2<arguments.length&&(t=this.slice(arguments[0],arguments[0]+arguments.length-2),this.trigger(U.Events.insert,t),this.trigger(U.Events.order)),e},sort:function(){return Array.prototype.sort.apply(this,arguments),this.trigger(U.Events.order),this},reverse:function(){return Array.prototype.reverse.apply(this,arguments),this.trigger(U.Events.order),this}});U.Utils.getAnchorsFromArcData;var N=U.Utils.getControlPoints,j=(U.Utils.getCurveFromPoints,U.Utils.solveSegmentIntersection,U.Utils.decoupleShapes,U.Utils.mod),L=U.Utils.getBackingStoreRatio,M=U.Utils.getComponentOnCubicBezier,V=(U.Utils.getCurveLength,U.Utils.integrate),G=U.Utils.getReflection;y.extend(U.prototype,U.Utils.Events,{constructor:U,appendTo:function(t){return t.appendChild(this.renderer.domElement),this},play:function(){return U.Utils.setPlaying.call(this,!0),I.init(),this.trigger(U.Events.play)},pause:function(){return this.playing=!1,this.trigger(U.Events.pause)},update:function(){var t=!!this._lastFrame,e=F.now();t&&(this.timeDelta=parseFloat((e-this._lastFrame).toFixed(3))),this._lastFrame=e;var i=this.width,r=this.height,s=this.renderer;return(i!==s.width||r!==s.height)&&s.setSize(i,r,this.ratio),this.trigger(U.Events.update,this.frameCount,this.timeDelta),this.render()},render:function(){return this.renderer.render(),this.trigger(U.Events.render,this.frameCount++)},add:function(t){var e=t;return e instanceof Array||(e=y.toArray(arguments)),this.scene.add(e),this},remove:function(t){var e=t;return e instanceof Array||(e=y.toArray(arguments)),this.scene.remove(e),this},clear:function(){return this.scene.remove(this.scene.children),this},makeLine:function(t,e,i,r){var s=new U.Line(t,e,i,r);return this.scene.add(s),s},makeArrow:function(t,e,i,r,s){var n=y.isNumber(s)?s:10,a=c(r-e,i-t),l=[new U.Anchor(t,e,void 0,void 0,void 0,void 0,U.Commands.move),new U.Anchor(i,r,void 0,void 0,void 0,void 0,U.Commands.line),new U.Anchor(i-n*f(a-o/4),r-n*u(a-o/4),void 0,void 0,void 0,void 0,U.Commands.line),new U.Anchor(i,r,void 0,void 0,void 0,void 0,U.Commands.move),new U.Anchor(i-n*f(a+o/4),r-n*u(a+o/4),void 0,void 0,void 0,void 0,U.Commands.line)],h=new U.Path(l,!1,!1,!0);return h.noFill(),h.cap=\"round\",h.join=\"round\",this.scene.add(h),h},makeRectangle:function(t,e,i,r){var s=new U.Rectangle(t,e,i,r);return this.scene.add(s),s},makeRoundedRectangle:function(t,e,i,r,s){var n=new U.RoundedRectangle(t,e,i,r,s);return this.scene.add(n),n},makeCircle:function(t,e,i,r){var s=new U.Circle(t,e,i,r);return this.scene.add(s),s},makeEllipse:function(t,e,i,r,s){var n=new U.Ellipse(t,e,i,r,s);return this.scene.add(n),n},makeStar:function(t,e,i,r,s){var n=new U.Star(t,e,i,r,s);return this.scene.add(n),n},makeCurve:function(t){var e=arguments.length,i=t;if(!y.isArray(t)){i=[];for(var r,s,n=0;n<e&&(r=arguments[n],y.isNumber(r));n+=2)s=arguments[n+1],i.push(new U.Anchor(r,s))}var a=arguments[e-1],o=new U.Path(i,!y.isBoolean(a)||!a,!0),l=o.getBoundingClientRect();return o.center().translation.set(l.left+l.width/2,l.top+l.height/2),this.scene.add(o),o},makePolygon:function(t,e,i,r){var s=new U.Polygon(t,e,i,r);return this.scene.add(s),s},makeArcSegment:function(t,e,i,r,s,n,a){var o=new U.ArcSegment(t,e,i,r,s,n,a);return this.scene.add(o),o},makePath:function(t){var e=arguments.length,i=t;if(!y.isArray(t)){i=[];for(var r,s,n=0;n<e&&(r=arguments[n],y.isNumber(r));n+=2)s=arguments[n+1],i.push(new U.Anchor(r,s))}var a=arguments[e-1],o=new U.Path(i,!y.isBoolean(a)||!a),l=o.getBoundingClientRect();return y.isNumber(l.top)&&y.isNumber(l.left)&&y.isNumber(l.right)&&y.isNumber(l.bottom)&&o.center().translation.set(l.left+l.width/2,l.top+l.height/2),this.scene.add(o),o},makeText:function(t,e,i,r){var s=new U.Text(t,e,i,r);return this.add(s),s},makeLinearGradient:function(t,e,i,r){var s=R.call(arguments,4),n=new U.LinearGradient(t,e,i,r,s);return this.add(n),n},makeRadialGradient:function(t,e,i){var r=R.call(arguments,3),s=new U.RadialGradient(t,e,i,r);return this.add(s),s},makeSprite:function(t,e,i,r,s,n,a){var o=new U.Sprite(t,e,i,r,s,n);return a&&o.play(),this.add(o),o},makeImageSequence:function(t,e,i,r,s){var n=new U.ImageSequence(t,e,i,r);return s&&n.play(),this.add(n),n},makeTexture:function(t,e){return new U.Texture(t,e)},makeGroup:function(t){var e=t;e instanceof Array||(e=y.toArray(arguments));var i=new U.Group;return this.scene.add(i),i.add(e),i},interpret:function(t,e,i){var r=t.tagName.toLowerCase();if(i=void 0===i||i,!(r in U.Utils.read))return null;var s=U.Utils.read[r].call(this,t);return i&&this.add(e&&s instanceof U.Group?s.children:s),s},load:function(t,e){var i,r,s,n=new U.Group,a=y.bind(function(t){for(P.temp.innerHTML=t,r=0;r<P.temp.children.length;r++)if(i=P.temp.children[r],/svg/i.test(i.nodeName))for(s=0;s<i.children.length;s++)n.add(this.interpret(i.children[s]));else n.add(this.interpret(i));if(y.isFunction(e)){var a=1>=P.temp.children.length?P.temp.children[0]:P.temp.children;e(n,a)}},this);return/.*\\.svg$/gi.test(t)?(U.Utils.xhr(t,a),n):(a(t),n)}});var I=P.getRequestAnimationFrame();return r.exports?r.exports=U:\"function\"==typeof define&&i(4)&&define(\"two\",[],function(){return U}),U}((void 0===t?self||window:t).Two),function(t){var e=t.Utils,i=t.Registry=function(){this.map={}};e.extend(i.prototype,{constructor:i,add:function(t,e){return this.map[t]=e,this},remove:function(t){return delete this.map[t],this},get:function(t){return this.map[t]},contains:function(t){return t in this.map}})}((void 0===t?self||window:t).Two),function(t){var e=t.Utils,i=t.Vector=function(t,e){this.x=t||0,this.y=e||0};e.extend(i,{zero:new t.Vector,add:function(t,e){return new i(t.x+e.x,t.y+e.y)},sub:function(t,e){return new i(t.x-e.x,t.y-e.y)},subtract:function(t,e){return i.sub(t,e)},ratioBetween:function(t,e){return(t.x*e.x+t.y*e.y)/(t.length()*e.length())},angleBetween:function(t,e){var i,r;return 4<=arguments.length?(i=arguments[0]-arguments[2],r=arguments[1]-arguments[3],c(r,i)):(i=t.x-e.x,r=t.y-e.y,c(r,i))},distanceBetween:function(t,e){return h(i.distanceBetweenSquared(t,e))},distanceBetweenSquared:function(t,e){var i=t.x-e.x,r=t.y-e.y;return i*i+r*r},MakeObservable:function(i){i.bind=i.on=function(){return this._bound||(this._x=this.x,this._y=this.y,Object.defineProperty(this,\"x\",s),Object.defineProperty(this,\"y\",n),e.extend(this,r),this._bound=!0),t.Utils.Events.bind.apply(this,arguments),this}}}),e.extend(i.prototype,t.Utils.Events,{constructor:i,set:function(t,e){return this.x=t,this.y=e,this},copy:function(t){return this.x=t.x,this.y=t.y,this},clear:function(){return this.x=0,this.y=0,this},clone:function(){return new i(this.x,this.y)},add:function(t,i){return 0>=arguments.length?this:(1>=arguments.length?e.isNumber(t)?(this.x+=t,this.y+=t):t&&e.isNumber(t.x)&&e.isNumber(t.y)&&(this.x+=t.x,this.y+=t.y):(this.x+=t,this.y+=i),this)},addSelf:function(){return this.add.apply(this,arguments)},sub:function(t,i){return 0>=arguments.length?this:(1>=arguments.length?e.isNumber(t)?(this.x-=t,this.y-=t):t&&e.isNumber(t.x)&&e.isNumber(t.y)&&(this.x-=t.x,this.y-=t.y):(this.x-=t,this.y-=i),this)},subtract:function(){return this.sub.apply(this,arguments)},subSelf:function(){return this.sub.apply(this,arguments)},subtractSelf:function(){return this.sub.apply(this,arguments)},multiply:function(t,i){return 0>=arguments.length?this:(1>=arguments.length?e.isNumber(t)?(this.x*=t,this.y*=t):t&&e.isNumber(t.x)&&e.isNumber(t.y)&&(this.x*=t.x,this.y*=t.y):(this.x*=t,this.y*=i),this)},multiplySelf:function(){return this.multiply.apply(this,arguments)},multiplyScalar:function(t){return this.multiply(t)},divide:function(t,i){return 0>=arguments.length?this:(1>=arguments.length?e.isNumber(t)?(this.x/=t,this.y/=t):t&&e.isNumber(t.x)&&e.isNumber(t.y)&&(this.x/=t.x,this.y/=t.y):(this.x/=t,this.y/=i),e.isNaN(this.x)&&(this.x=0),e.isNaN(this.y)&&(this.y=0),this)},divideSelf:function(){return this.divide.apply(this,arguments)},divideScalar:function(t){return this.divide(t)},negate:function(){return this.multiply(-1)},dot:function(t){return this.x*t.x+this.y*t.y},length:function(){return h(this.lengthSquared())},lengthSquared:function(){return this.x*this.x+this.y*this.y},normalize:function(){return this.divideScalar(this.length())},distanceTo:function(t){return h(this.distanceToSquared(t))},distanceToSquared:function(t){var e=this.x-t.x,i=this.y-t.y;return e*e+i*i},setLength:function(t){return this.normalize().multiplyScalar(t)},equals:function(t,e){return e=void 0===e?1e-4:e,this.distanceTo(t)<e},lerp:function(t,e){var i=(t.x-this.x)*e+this.x,r=(t.y-this.y)*e+this.y;return this.set(i,r)},isZero:function(t){return t=void 0===t?1e-4:t,this.length()<t},toString:function(){return this.x+\", \"+this.y},toObject:function(){return{x:this.x,y:this.y}},rotate:function(t){var e=f(t),i=u(t);return this.x=this.x*e-this.y*i,this.y=this.x*i+this.y*e,this}});var r={constructor:i,set:function(e,i){return this._x=e,this._y=i,this.trigger(t.Events.change)},copy:function(e){return this._x=e.x,this._y=e.y,this.trigger(t.Events.change)},clear:function(){return this._x=0,this._y=0,this.trigger(t.Events.change)},clone:function(){return new i(this._x,this._y)},add:function(i,r){return 0>=arguments.length?this:(1>=arguments.length?e.isNumber(i)?(this._x+=i,this._y+=i):i&&e.isNumber(i.x)&&e.isNumber(i.y)&&(this._x+=i.x,this._y+=i.y):(this._x+=i,this._y+=r),this.trigger(t.Events.change))},sub:function(i,r){return 0>=arguments.length?this:(1>=arguments.length?e.isNumber(i)?(this._x-=i,this._y-=i):i&&e.isNumber(i.x)&&e.isNumber(i.y)&&(this._x-=i.x,this._y-=i.y):(this._x-=i,this._y-=r),this.trigger(t.Events.change))},multiply:function(i,r){return 0>=arguments.length?this:(1>=arguments.length?e.isNumber(i)?(this._x*=i,this._y*=i):i&&e.isNumber(i.x)&&e.isNumber(i.y)&&(this._x*=i.x,this._y*=i.y):(this._x*=i,this._y*=r),this.trigger(t.Events.change))},divide:function(i,r){return 0>=arguments.length?this:(1>=arguments.length?e.isNumber(i)?(this._x/=i,this._y/=i):i&&e.isNumber(i.x)&&e.isNumber(i.y)&&(this._x/=i.x,this._y/=i.y):(this._x/=i,this._y/=r),e.isNaN(this._x)&&(this._x=0),e.isNaN(this._y)&&(this._y=0),this.trigger(t.Events.change))},dot:function(t){return this._x*t.x+this._y*t.y},lengthSquared:function(){return this._x*this._x+this._y*this._y},distanceToSquared:function(t){var e=this._x-t.x,i=this._y-t.y;return e*e+i*i},lerp:function(t,e){var i=(t.x-this._x)*e+this._x,r=(t.y-this._y)*e+this._y;return this.set(i,r)},toString:function(){return this._x+\", \"+this._y},toObject:function(){return{x:this._x,y:this._y}},rotate:function(t){var e=f(t),i=u(t);return this._x=this._x*e-this._y*i,this._y=this._x*i+this._y*e,this}},s={enumerable:!0,get:function(){return this._x},set:function(e){this._x=e,this.trigger(t.Events.change,\"x\")}},n={enumerable:!0,get:function(){return this._y},set:function(e){this._y=e,this.trigger(t.Events.change,\"y\")}};i.MakeObservable(i.prototype)}((void 0===t?self||window:t).Two),function(t){var e=t.Commands,i=t.Utils,r=t.Anchor=function(r,s,n,a,o,l,h){t.Vector.call(this,r,s),this._broadcast=i.bind(function(){this.trigger(t.Events.change)},this),this._command=h||e.move,this._relative=!0;var c=i.isNumber(n),d=i.isNumber(a),f=i.isNumber(o),u=i.isNumber(l);(c||d||f||u)&&t.Anchor.AppendCurveProperties(this),c&&(this.controls.left.x=n),d&&(this.controls.left.y=a),f&&(this.controls.right.x=o),u&&(this.controls.right.y=l)};i.extend(t.Anchor,{AppendCurveProperties:function(e){e.relative=!0,e.controls={},e.controls.left=new t.Vector(0,0),e.controls.right=new t.Vector(0,0)},MakeObservable:function(n){Object.defineProperty(n,\"command\",{enumerable:!0,get:function(){return this._command},set:function(s){return this._command=s,this._command!==e.curve||i.isObject(this.controls)||r.AppendCurveProperties(this),this.trigger(t.Events.change)}}),Object.defineProperty(n,\"relative\",{enumerable:!0,get:function(){return this._relative},set:function(e){return this._relative==e?this:(this._relative=!!e,this.trigger(t.Events.change))}}),i.extend(n,t.Vector.prototype,s),n.bind=n.on=function(){var e=this._bound;t.Vector.prototype.bind.apply(this,arguments),e||i.extend(this,s)}}});var s={constructor:t.Anchor,listen:function(){return i.isObject(this.controls)||t.Anchor.AppendCurveProperties(this),this.controls.left.bind(t.Events.change,this._broadcast),this.controls.right.bind(t.Events.change,this._broadcast),this},ignore:function(){return this.controls.left.unbind(t.Events.change,this._broadcast),this.controls.right.unbind(t.Events.change,this._broadcast),this},copy:function(e){return this.x=e.x,this.y=e.y,i.isString(e.command)&&(this.command=e.command),i.isObject(e.controls)&&(!i.isObject(this.controls)&&t.Anchor.AppendCurveProperties(this),this.controls.left.copy(e.controls.left),this.controls.right.copy(e.controls.right)),i.isBoolean(e.relative)&&(this.relative=e.relative),this.command===t.Commands.arc&&(this.rx=e.rx,this.ry=e.ry,this.xAxisRotation=e.xAxisRotation,this.largeArcFlag=e.largeArcFlag,this.sweepFlag=e.sweepFlag),this},clone:function(){var e=this.controls,i=new t.Anchor(this.x,this.y,e&&e.left.x,e&&e.left.y,e&&e.right.x,e&&e.right.y,this.command);return i.relative=this._relative,i},toObject:function(){var t={x:this.x,y:this.y};return this._command&&(t.command=this._command),this._relative&&(t.relative=this._relative),this.controls&&(t.controls={left:this.controls.left.toObject(),right:this.controls.right.toObject()}),t},toString:function(){return this.controls?[this._x,this._y,this.controls.left.x,this.controls.left.y,this.controls.right.x,this.controls.right.y,this._command,this._relative?1:0].join(\", \"):[this._x,this._y].join(\", \")}};t.Anchor.MakeObservable(t.Anchor.prototype)}((void 0===t?self||window:t).Two),function(t){var e=s,i=t.Utils,r=[],n=t.Matrix=function(e){this.elements=new t.Array(9);var r=e;i.isArray(r)||(r=i.toArray(arguments)),this.identity(),0<r.length&&this.set(r)};i.extend(n,{Identity:[1,0,0,0,1,0,0,0,1],Multiply:function(e,i,r){if(3>=i.length){var s=e,n=i[0]||0,a=i[1]||0,o=i[2]||0;return{x:s[0]*n+s[1]*a+s[2]*o,y:s[3]*n+s[4]*a+s[5]*o,z:s[6]*n+s[7]*a+s[8]*o}}var l=e[0],h=e[1],c=e[2],d=e[3],f=e[4],u=e[5],_=e[6],g=e[7],p=e[8],m=i[0],v=i[1],y=i[2],x=i[3],b=i[4],w=i[5],k=i[6],S=i[7],A=i[8];return(r=r||new t.Array(9))[0]=l*m+h*x+c*k,r[1]=l*v+h*b+c*S,r[2]=l*y+h*w+c*A,r[3]=d*m+f*x+u*k,r[4]=d*v+f*b+u*S,r[5]=d*y+f*w+u*A,r[6]=_*m+g*x+p*k,r[7]=_*v+g*b+p*S,r[8]=_*y+g*w+p*A,r}}),i.extend(n.prototype,t.Utils.Events,{constructor:n,manual:!1,set:function(e,r,s,n,a,o,l,h,c){var d;return i.isUndefined(r)&&(e=(d=e)[0],r=d[1],s=d[2],n=d[3],a=d[4],o=d[5],l=d[6],h=d[7],c=d[8]),this.elements[0]=e,this.elements[1]=r,this.elements[2]=s,this.elements[3]=n,this.elements[4]=a,this.elements[5]=o,this.elements[6]=l,this.elements[7]=h,this.elements[8]=c,this.trigger(t.Events.change)},copy:function(e){return this.elements[0]=e.elements[0],this.elements[1]=e.elements[1],this.elements[2]=e.elements[2],this.elements[3]=e.elements[3],this.elements[4]=e.elements[4],this.elements[5]=e.elements[5],this.elements[6]=e.elements[6],this.elements[7]=e.elements[7],this.elements[8]=e.elements[8],this.manual=e.manual,this.trigger(t.Events.change)},identity:function(){return this.elements[0]=n.Identity[0],this.elements[1]=n.Identity[1],this.elements[2]=n.Identity[2],this.elements[3]=n.Identity[3],this.elements[4]=n.Identity[4],this.elements[5]=n.Identity[5],this.elements[6]=n.Identity[6],this.elements[7]=n.Identity[7],this.elements[8]=n.Identity[8],this.trigger(t.Events.change)},multiply:function(e,r,s,n,a,o,l,h,c){if(i.isUndefined(r))return this.elements[0]*=e,this.elements[1]*=e,this.elements[2]*=e,this.elements[3]*=e,this.elements[4]*=e,this.elements[5]*=e,this.elements[6]*=e,this.elements[7]*=e,this.elements[8]*=e,this.trigger(t.Events.change);if(i.isUndefined(n))return e=e||0,r=r||0,s=s||0,{x:(a=this.elements)[0]*e+a[1]*r+a[2]*s,y:a[3]*e+a[4]*r+a[5]*s,z:a[6]*e+a[7]*r+a[8]*s};var d=this.elements,f=[e,r,s,n,a,o,l,h,c],u=d[0],_=d[1],g=d[2],p=d[3],m=d[4],v=d[5],y=d[6],x=d[7],b=d[8],w=f[0],k=f[1],S=f[2],A=f[3],E=f[4],C=f[5],R=f[6],F=f[7],O=f[8];return this.elements[0]=u*w+_*A+g*R,this.elements[1]=u*k+_*E+g*F,this.elements[2]=u*S+_*C+g*O,this.elements[3]=p*w+m*A+v*R,this.elements[4]=p*k+m*E+v*F,this.elements[5]=p*S+m*C+v*O,this.elements[6]=y*w+x*A+b*R,this.elements[7]=y*k+x*E+b*F,this.elements[8]=y*S+x*C+b*O,this.trigger(t.Events.change)},inverse:function(e){var i=this.elements;e=e||new t.Matrix;var r=i[0],s=i[1],n=i[2],a=i[3],o=i[4],l=i[5],h=i[6],c=i[7],d=i[8],f=d*o-l*c,u=-d*a+l*h,_=c*a-o*h,g=r*f+s*u+n*_;return g?(g=1/g,e.elements[0]=f*g,e.elements[1]=(-d*s+n*c)*g,e.elements[2]=(l*s-n*o)*g,e.elements[3]=u*g,e.elements[4]=(d*r-n*h)*g,e.elements[5]=(-l*r+n*a)*g,e.elements[6]=_*g,e.elements[7]=(-c*r+s*h)*g,e.elements[8]=(o*r-s*a)*g,e):null},scale:function(t,e){return 1>=arguments.length&&(e=t),this.multiply(t,0,0,0,e,0,0,0,1)},rotate:function(t){var e=f(t),i=u(t);return this.multiply(e,-i,0,i,e,0,0,0,1)},translate:function(t,e){return this.multiply(1,0,t,0,1,e,0,0,1)},skewX:function(t){var i=e(t);return this.multiply(1,i,0,0,1,0,0,0,1)},skewY:function(t){var i=e(t);return this.multiply(1,0,0,i,1,0,0,0,1)},toString:function(e){return r.length=0,this.toTransformArray(e,r),r.map(t.Utils.toFixed).join(\" \")},toTransformArray:function(t,e){var i=this.elements,r=!!e,s=i[0],n=i[1],a=i[2],o=i[3],l=i[4],h=i[5];if(t){var c=i[6],d=i[7],f=i[8];return r?(e[0]=s,e[1]=o,e[2]=c,e[3]=n,e[4]=l,e[5]=d,e[6]=a,e[7]=h,void(e[8]=f)):[s,o,c,n,l,d,a,h,f]}return r?(e[0]=s,e[1]=o,e[2]=n,e[3]=l,e[4]=a,void(e[5]=h)):[s,o,n,l,a,h]},toArray:function(t,e){var i=this.elements,r=!!e,s=i[0],n=i[1],a=i[2],o=i[3],l=i[4],h=i[5];if(t){var c=i[6],d=i[7],f=i[8];return r?(e[0]=s,e[1]=n,e[2]=a,e[3]=o,e[4]=l,e[5]=h,e[6]=c,e[7]=d,void(e[8]=f)):[s,n,a,o,l,h,c,d,f]}return r?(e[0]=s,e[1]=n,e[2]=a,e[3]=o,e[4]=l,void(e[5]=h)):[s,n,a,o,l,h]},toObject:function(){return{elements:this.toArray(!0),manual:!!this.manual}},clone:function(){return(new t.Matrix).copy(this)}})}((void 0===t?self||window:t).Two),function(t){var e=t.Utils.mod,i=t.Utils.toFixed,r=t.Utils,s={version:1.1,ns:\"http://www.w3.org/2000/svg\",xlink:\"http://www.w3.org/1999/xlink\",alignments:{left:\"start\",center:\"middle\",right:\"end\"},createElement:function(t,e){var i=t,n=document.createElementNS(s.ns,i);return\"svg\"===i&&(e=r.defaults(e||{},{version:s.version})),r.isEmpty(e)||s.setAttributes(n,e),n},setAttributes:function(t,e){for(var i=Object.keys(e),r=0;r<i.length;r++)/href/.test(i[r])?t.setAttributeNS(s.xlink,i[r],e[i[r]]):t.setAttribute(i[r],e[i[r]]);return this},removeAttributes:function(t,e){for(var i in e)t.removeAttribute(i);return this},toString:function(r,s){for(var n,o=r.length,l=o-1,h=\"\",c=0;c<o;c++){var d,f,u,g,p,m,v,y,x,b,w,k,S,A,E=r[c],C=s?e(c-1,o):_(c-1,0),R=s?e(c+1,o):a(c+1,l),F=r[C],O=r[R],P=i(E.x),U=i(E.y);switch(E.command){case t.Commands.close:d=t.Commands.close;break;case t.Commands.arc:b=E.rx,w=E.ry,k=E.xAxisRotation,S=E.largeArcFlag,A=E.sweepFlag,d=t.Commands.arc+\" \"+b+\" \"+w+\" \"+k+\" \"+S+\" \"+A+\" \"+P+\" \"+U;break;case t.Commands.curve:m=F.controls&&F.controls.right||t.Vector.zero,v=E.controls&&E.controls.left||t.Vector.zero,F.relative?(f=i(m.x+F.x),u=i(m.y+F.y)):(f=i(m.x),u=i(m.y)),E.relative?(g=i(v.x+E.x),p=i(v.y+E.y)):(g=i(v.x),p=i(v.y)),d=(0===c?t.Commands.move:t.Commands.curve)+\" \"+f+\" \"+u+\" \"+g+\" \"+p+\" \"+P+\" \"+U;break;case t.Commands.move:n=E,d=t.Commands.move+\" \"+P+\" \"+U;break;default:d=E.command+\" \"+P+\" \"+U}c>=l&&s&&(E.command===t.Commands.curve&&(O=n,y=E.controls&&E.controls.right||E,x=O.controls&&O.controls.left||O,E.relative?(f=i(y.x+E.x),u=i(y.y+E.y)):(f=i(y.x),u=i(y.y)),O.relative?(g=i(x.x+O.x),p=i(x.y+O.y)):(g=i(x.x),p=i(x.y)),d+=\" C \"+f+\" \"+u+\" \"+g+\" \"+p+\" \"+(P=i(O.x))+\" \"+(U=i(O.y))),E.command!==t.Commands.close&&(d+=\" Z\")),h+=d+\" \"}return h},getClip:function(t){var e=t._renderer.clip;if(!e){for(var i=t;i.parent;)i=i.parent;e=t._renderer.clip=s.createElement(\"clipPath\"),i.defs.appendChild(e)}return e},group:{appendChild:function(t){var e=t._renderer.elem;if(e){var i=e.nodeName;!i||/(radial|linear)gradient/i.test(i)||t._clip||this.elem.appendChild(e)}},removeChild:function(t){var e=t._renderer.elem;e&&e.parentNode==this.elem&&(!e.nodeName||t._clip||this.elem.removeChild(e))},orderChild:function(t){this.elem.appendChild(t._renderer.elem)},renderChild:function(t){s[t._renderer.type].render.call(t,this)},render:function(t){if(this._update(),0===this._opacity&&!this._flagOpacity)return this;this._renderer.elem||(this._renderer.elem=s.createElement(\"g\",{id:this.id}),t.appendChild(this._renderer.elem));var e=this._matrix.manual||this._flagMatrix,i={domElement:t,elem:this._renderer.elem};e&&this._renderer.elem.setAttribute(\"transform\",\"matrix(\"+this._matrix.toString()+\")\");for(var r,n=0;n<this.children.length;n++)r=this.children[n],s[r._renderer.type].render.call(r,t);return this._flagOpacity&&this._renderer.elem.setAttribute(\"opacity\",this._opacity),this._flagClassName&&this._renderer.elem.setAttribute(\"class\",this.classList.join(\" \")),this._flagAdditions&&this.additions.forEach(s.group.appendChild,i),this._flagSubtractions&&this.subtractions.forEach(s.group.removeChild,i),this._flagOrder&&this.children.forEach(s.group.orderChild,i),this._flagMask&&(this._mask?this._renderer.elem.setAttribute(\"clip-path\",\"url(#\"+this._mask.id+\")\"):this._renderer.elem.removeAttribute(\"clip-path\")),this.flagReset()}},path:{render:function(t){if(this._update(),0===this._opacity&&!this._flagOpacity)return this;var e={};if((this._matrix.manual||this._flagMatrix)&&(e.transform=\"matrix(\"+this._matrix.toString()+\")\"),this._flagVertices){var i=s.toString(this._renderer.vertices,this._closed);e.d=i}if(this._fill&&this._fill._renderer&&(this._fill._update(),s[this._fill._renderer.type].render.call(this._fill,t,!0)),this._flagFill&&(e.fill=this._fill&&this._fill.id?\"url(#\"+this._fill.id+\")\":this._fill),this._stroke&&this._stroke._renderer&&(this._stroke._update(),s[this._stroke._renderer.type].render.call(this._stroke,t,!0)),this._flagStroke&&(e.stroke=this._stroke&&this._stroke.id?\"url(#\"+this._stroke.id+\")\":this._stroke),this._flagLinewidth&&(e[\"stroke-width\"]=this._linewidth),this._flagOpacity&&(e[\"stroke-opacity\"]=this._opacity,e[\"fill-opacity\"]=this._opacity),this._flagClassName&&(e.class=this.classList.join(\" \")),this._flagVisible&&(e.visibility=this._visible?\"visible\":\"hidden\"),this._flagCap&&(e[\"stroke-linecap\"]=this._cap),this._flagJoin&&(e[\"stroke-linejoin\"]=this._join),this._flagMiter&&(e[\"stroke-miterlimit\"]=this._miter),this.dashes&&0<this.dashes.length&&(e[\"stroke-dasharray\"]=this.dashes.join(\" \"),e[\"stroke-dashoffset\"]=this.dashes.offset||0),this._renderer.elem?s.setAttributes(this._renderer.elem,e):(e.id=this.id,this._renderer.elem=s.createElement(\"path\",e),t.appendChild(this._renderer.elem)),this._flagClip){var r=s.getClip(this),n=this._renderer.elem;this._clip?(n.removeAttribute(\"id\"),r.setAttribute(\"id\",this.id),r.appendChild(n)):(r.removeAttribute(\"id\"),n.setAttribute(\"id\",this.id),this.parent._renderer.elem.appendChild(n))}return this.flagReset()}},text:{render:function(t){this._update();var e={};if((this._matrix.manual||this._flagMatrix)&&(e.transform=\"matrix(\"+this._matrix.toString()+\")\"),this._flagFamily&&(e[\"font-family\"]=this._family),this._flagSize&&(e[\"font-size\"]=this._size),this._flagLeading&&(e[\"line-height\"]=this._leading),this._flagAlignment&&(e[\"text-anchor\"]=s.alignments[this._alignment]||this._alignment),this._flagBaseline&&(e[\"alignment-baseline\"]=e[\"dominant-baseline\"]=this._baseline),this._flagStyle&&(e[\"font-style\"]=this._style),this._flagWeight&&(e[\"font-weight\"]=this._weight),this._flagDecoration&&(e[\"text-decoration\"]=this._decoration),this._fill&&this._fill._renderer&&(this._fill._update(),s[this._fill._renderer.type].render.call(this._fill,t,!0)),this._flagFill&&(e.fill=this._fill&&this._fill.id?\"url(#\"+this._fill.id+\")\":this._fill),this._stroke&&this._stroke._renderer&&(this._stroke._update(),s[this._stroke._renderer.type].render.call(this._stroke,t,!0)),this._flagStroke&&(e.stroke=this._stroke&&this._stroke.id?\"url(#\"+this._stroke.id+\")\":this._stroke),this._flagLinewidth&&(e[\"stroke-width\"]=this._linewidth),this._flagOpacity&&(e.opacity=this._opacity),this._flagClassName&&(e.class=this.classList.join(\" \")),this._flagVisible&&(e.visibility=this._visible?\"visible\":\"hidden\"),this.dashes&&0<this.dashes.length&&(e[\"stroke-dasharray\"]=this.dashes.join(\" \"),e[\"stroke-dashoffset\"]=this.dashes.offset||0),this._renderer.elem?s.setAttributes(this._renderer.elem,e):(e.id=this.id,this._renderer.elem=s.createElement(\"text\",e),t.defs.appendChild(this._renderer.elem)),this._flagClip){var i=s.getClip(this),r=this._renderer.elem;this._clip?(r.removeAttribute(\"id\"),i.setAttribute(\"id\",this.id),i.appendChild(r)):(i.removeAttribute(\"id\"),r.setAttribute(\"id\",this.id),this.parent._renderer.elem.appendChild(r))}return this._flagValue&&(this._renderer.elem.textContent=this._value),this.flagReset()}},\"linear-gradient\":{render:function(t,e){e||this._update();var i={};if(this._flagEndPoints&&(i.x1=this.left._x,i.y1=this.left._y,i.x2=this.right._x,i.y2=this.right._y),this._flagSpread&&(i.spreadMethod=this._spread),this._renderer.elem?s.setAttributes(this._renderer.elem,i):(i.id=this.id,i.gradientUnits=\"userSpaceOnUse\",this._renderer.elem=s.createElement(\"linearGradient\",i),t.defs.appendChild(this._renderer.elem)),this._flagStops){var r=this._renderer.elem.childNodes.length!==this.stops.length;if(r)for(;this._renderer.elem.lastChild;)this._renderer.elem.removeChild(this._renderer.elem.lastChild);for(var n=0;n<this.stops.length;n++){var a=this.stops[n],o={};a._flagOffset&&(o.offset=100*a._offset+\"%\"),a._flagColor&&(o[\"stop-color\"]=a._color),a._flagOpacity&&(o[\"stop-opacity\"]=a._opacity),a._renderer.elem?s.setAttributes(a._renderer.elem,o):a._renderer.elem=s.createElement(\"stop\",o),r&&this._renderer.elem.appendChild(a._renderer.elem),a.flagReset()}}return this.flagReset()}},\"radial-gradient\":{render:function(t,e){e||this._update();var i={};if(this._flagCenter&&(i.cx=this.center._x,i.cy=this.center._y),this._flagFocal&&(i.fx=this.focal._x,i.fy=this.focal._y),this._flagRadius&&(i.r=this._radius),this._flagSpread&&(i.spreadMethod=this._spread),this._renderer.elem?s.setAttributes(this._renderer.elem,i):(i.id=this.id,i.gradientUnits=\"userSpaceOnUse\",this._renderer.elem=s.createElement(\"radialGradient\",i),t.defs.appendChild(this._renderer.elem)),this._flagStops){var r=this._renderer.elem.childNodes.length!==this.stops.length;if(r)for(;this._renderer.elem.lastChild;)this._renderer.elem.removeChild(this._renderer.elem.lastChild);for(var n=0;n<this.stops.length;n++){var a=this.stops[n],o={};a._flagOffset&&(o.offset=100*a._offset+\"%\"),a._flagColor&&(o[\"stop-color\"]=a._color),a._flagOpacity&&(o[\"stop-opacity\"]=a._opacity),a._renderer.elem?s.setAttributes(a._renderer.elem,o):a._renderer.elem=s.createElement(\"stop\",o),r&&this._renderer.elem.appendChild(a._renderer.elem),a.flagReset()}}return this.flagReset()}},texture:{render:function(e,i){i||this._update();var n={},a={x:0,y:0},o=this.image;if(this._flagLoaded&&this.loaded)switch(o.nodeName.toLowerCase()){case\"canvas\":a.href=a[\"xlink:href\"]=o.toDataURL(\"image/png\");break;case\"img\":case\"image\":a.href=a[\"xlink:href\"]=this.src}if((this._flagOffset||this._flagLoaded||this._flagScale)&&(n.x=this._offset.x,n.y=this._offset.y,o&&(n.x-=o.width/2,n.y-=o.height/2,this._scale instanceof t.Vector?(n.x*=this._scale.x,n.y*=this._scale.y):(n.x*=this._scale,n.y*=this._scale)),0<n.x&&(n.x*=-1),0<n.y&&(n.y*=-1)),(this._flagScale||this._flagLoaded||this._flagRepeat)&&(n.width=0,n.height=0,o)){switch(a.width=n.width=o.width,a.height=n.height=o.height,this._repeat){case\"no-repeat\":n.width+=1,n.height+=1}this._scale instanceof t.Vector?(n.width*=this._scale.x,n.height*=this._scale.y):(n.width*=this._scale,n.height*=this._scale)}return(this._flagScale||this._flagLoaded)&&(this._renderer.image?!r.isEmpty(a)&&s.setAttributes(this._renderer.image,a):this._renderer.image=s.createElement(\"image\",a)),this._renderer.elem?!r.isEmpty(n)&&s.setAttributes(this._renderer.elem,n):(n.id=this.id,n.patternUnits=\"userSpaceOnUse\",this._renderer.elem=s.createElement(\"pattern\",n),e.defs.appendChild(this._renderer.elem)),this._renderer.elem&&this._renderer.image&&!this._renderer.appended&&(this._renderer.elem.appendChild(this._renderer.image),this._renderer.appended=!0),this.flagReset()}}},n=t[t.Types.svg]=function(e){this.domElement=e.domElement||s.createElement(\"svg\"),this.scene=new t.Group,this.scene.parent=this,this.defs=s.createElement(\"defs\"),this.domElement.appendChild(this.defs),this.domElement.defs=this.defs,this.domElement.style.overflow=\"hidden\"};r.extend(n,{Utils:s}),r.extend(n.prototype,t.Utils.Events,{constructor:n,setSize:function(e,i){return this.width=e,this.height=i,s.setAttributes(this.domElement,{width:e,height:i}),this.trigger(t.Events.resize,e,i)},render:function(){return s.group.render.call(this.scene,this.domElement),this}})}((void 0===t?self||window:t).Two),function(t){function e(e,i,s,n,a,o,h,c,d){var _=t.Utils.Curve.Tolerance.epsilon,p=h-o,m=l(p)<_;(p=r(p,g))<_&&(p=m?0:g),!0!==c||m||(p===g?p=-g:p-=g);for(var v=0;v<t.Resolution;v++){var y=o+v/(t.Resolution-1)*p,x=i+n*f(y),b=s+a*u(y);if(0!==d){var w=f(d),k=u(d),S=x-i,A=b-s;x=S*w-A*k+i,b=S*k+A*w+s}e.lineTo(x,b)}}function i(t,e,i,r){var s=w(t*t+e*e)*w(i*i+r*r),n=b(p(-1,m(1,(t*i+e*r)/s)));return 0>t*r-e*i&&(n=-n),n}var r=t.Utils.mod,s=t.Utils.getRatio,n=t.Utils,c=[],g=2*o,p=_,m=a,v=l,y=u,x=f,b=d,w=h,k=function(t){return 1==t[0]&&0==t[3]&&0==t[1]&&1==t[4]&&0==t[2]&&0==t[5]},S={isHidden:/(undefined|none|transparent)/i,alignments:{left:\"start\",middle:\"center\",right:\"end\"},shim:function(t,e){return t.tagName=t.nodeName=e||\"canvas\",t.nodeType=1,t.getAttribute=function(t){return this[t]},t.setAttribute=function(t,e){return this[t]=e,this},t},group:{renderChild:function(t){S[t._renderer.type].render.call(t,this.ctx,!0,this.clip)},render:function(t){this._update();var e=this._matrix.elements,i=this.parent;this._renderer.opacity=this._opacity*(i&&i._renderer?i._renderer.opacity:1);var r=this._mask,s=k(e),n=!s||!!r;if(this._renderer.context||(this._renderer.context={}),this._renderer.context.ctx=t,n&&(t.save(),!s&&t.transform(e[0],e[3],e[1],e[4],e[2],e[5])),r&&S[r._renderer.type].render.call(r,t,!0),0<this.opacity&&0!==this.scale)for(var a,o=0;o<this.children.length;o++)a=this.children[o],S[a._renderer.type].render.call(a,t);return n&&t.restore(),this.flagReset()}},path:{render:function(e,i,s){var o,l,h,d,f,u,g,m,v,y,x,b,w,A,E,C,R,F,O,P,U,T,N,j,L,M,V,G,I,B,z,D,H;if(this._update(),o=this._matrix.elements,l=this._stroke,h=this._linewidth,d=this._fill,f=this._opacity*this.parent._renderer.opacity,u=this._visible,g=this._cap,m=this._join,v=this._miter,y=this._closed,w=(b=(x=this._renderer.vertices).length)-1,z=k(o),H=this.dashes,B=this._clip,!i&&(!u||B))return this;z||(e.save(),e.transform(o[0],o[3],o[1],o[4],o[2],o[5])),d&&(n.isString(d)?e.fillStyle=d:(S[d._renderer.type].render.call(d,e),e.fillStyle=d._renderer.effect)),l&&(n.isString(l)?e.strokeStyle=l:(S[l._renderer.type].render.call(l,e),e.strokeStyle=l._renderer.effect),h&&(e.lineWidth=h),v&&(e.miterLimit=v),m&&(e.lineJoin=m),!y&&g&&(e.lineCap=g)),n.isNumber(f)&&(e.globalAlpha=f),H&&0<H.length&&(e.lineDashOffset=H.offset||0,e.setLineDash(H)),e.beginPath();for(var W=0;W<x.length;W++)switch(R=x[W],G=R.x,I=R.y,R.command){case t.Commands.close:e.closePath();break;case t.Commands.arc:var q=R.rx,X=R.ry,Y=R.xAxisRotation,K=R.largeArcFlag,J=R.sweepFlag,$=(C=x[E=y?r(W-1,b):p(W-1,0)]).x,Z=C.y;S.renderSvgArcCommand(e,$,Z,q,X,K,J,Y,G,I);break;case t.Commands.curve:E=y?r(W-1,b):_(W-1,0),A=y?r(W+1,b):a(W+1,w),C=x[E],F=x[A],j=C.controls&&C.controls.right||t.Vector.zero,L=R.controls&&R.controls.left||t.Vector.zero,C._relative?(T=j.x+C.x,N=j.y+C.y):(T=j.x,N=j.y),R._relative?(P=L.x+R.x,U=L.y+R.y):(P=L.x,U=L.y),e.bezierCurveTo(T,N,P,U,G,I),W>=w&&y&&(F=O,M=R.controls&&R.controls.right||t.Vector.zero,V=F.controls&&F.controls.left||t.Vector.zero,R._relative?(T=M.x+R.x,N=M.y+R.y):(T=M.x,N=M.y),F._relative?(P=V.x+F.x,U=V.y+F.y):(P=V.x,U=V.y),G=F.x,I=F.y,e.bezierCurveTo(T,N,P,U,G,I));break;case t.Commands.line:e.lineTo(G,I);break;case t.Commands.move:O=R,e.moveTo(G,I)}return y&&e.closePath(),B||s||(!S.isHidden.test(d)&&((D=d._renderer&&d._renderer.offset)&&(e.save(),e.translate(-d._renderer.offset.x,-d._renderer.offset.y),e.scale(d._renderer.scale.x,d._renderer.scale.y)),e.fill(),D&&e.restore()),!S.isHidden.test(l)&&((D=l._renderer&&l._renderer.offset)&&(e.save(),e.translate(-l._renderer.offset.x,-l._renderer.offset.y),e.scale(l._renderer.scale.x,l._renderer.scale.y),e.lineWidth=h/l._renderer.scale.x),e.stroke(),D&&e.restore())),z||e.restore(),B&&!s&&e.clip(),H&&0<H.length&&e.setLineDash(c),this.flagReset()}},text:{render:function(t,e,i){this._update();var r,s,a,o,l,h,d,f=this._matrix.elements,u=this._stroke,_=this._linewidth,g=this._fill,p=this._opacity*this.parent._renderer.opacity,m=this._visible,v=k(f),y=g._renderer&&g._renderer.offset&&u._renderer&&u._renderer.offset,x=this.dashes,b=this._clip;return e||m&&!b?(v||(t.save(),t.transform(f[0],f[3],f[1],f[4],f[2],f[5])),y||(t.font=[this._style,this._weight,this._size+\"px/\"+this._leading+\"px\",this._family].join(\" \")),t.textAlign=S.alignments[this._alignment]||this._alignment,t.textBaseline=this._baseline,g&&(n.isString(g)?t.fillStyle=g:(S[g._renderer.type].render.call(g,t),t.fillStyle=g._renderer.effect)),u&&(n.isString(u)?t.strokeStyle=u:(S[u._renderer.type].render.call(u,t),t.strokeStyle=u._renderer.effect),_&&(t.lineWidth=_)),n.isNumber(p)&&(t.globalAlpha=p),x&&0<x.length&&(t.lineDashOffset=x.offset||0,t.setLineDash(x)),b||i||(!S.isHidden.test(g)&&(g._renderer&&g._renderer.offset?(h=g._renderer.scale.x,d=g._renderer.scale.y,t.save(),t.translate(-g._renderer.offset.x,-g._renderer.offset.y),t.scale(h,d),r=this._size/g._renderer.scale.y,s=this._leading/g._renderer.scale.y,t.font=[this._style,this._weight,r+\"px/\",s+\"px\",this._family].join(\" \"),a=g._renderer.offset.x/g._renderer.scale.x,o=g._renderer.offset.y/g._renderer.scale.y,t.fillText(this.value,a,o),t.restore()):t.fillText(this.value,0,0)),!S.isHidden.test(u)&&(u._renderer&&u._renderer.offset?(h=u._renderer.scale.x,d=u._renderer.scale.y,t.save(),t.translate(-u._renderer.offset.x,-u._renderer.offset.y),t.scale(h,d),r=this._size/u._renderer.scale.y,s=this._leading/u._renderer.scale.y,t.font=[this._style,this._weight,r+\"px/\",s+\"px\",this._family].join(\" \"),a=u._renderer.offset.x/u._renderer.scale.x,o=u._renderer.offset.y/u._renderer.scale.y,l=_/u._renderer.scale.x,t.lineWidth=l,t.strokeText(this.value,a,o),t.restore()):t.strokeText(this.value,0,0))),v||t.restore(),b&&!i&&t.clip(),x&&0<x.length&&t.setLineDash(c),this.flagReset()):this}},\"linear-gradient\":{render:function(t){if(this._update(),!this._renderer.effect||this._flagEndPoints||this._flagStops){this._renderer.effect=t.createLinearGradient(this.left._x,this.left._y,this.right._x,this.right._y);for(var e,i=0;i<this.stops.length;i++)e=this.stops[i],this._renderer.effect.addColorStop(e._offset,e._color)}return this.flagReset()}},\"radial-gradient\":{render:function(t){if(this._update(),!this._renderer.effect||this._flagCenter||this._flagFocal||this._flagRadius||this._flagStops){this._renderer.effect=t.createRadialGradient(this.center._x,this.center._y,0,this.focal._x,this.focal._y,this._radius);for(var e,i=0;i<this.stops.length;i++)e=this.stops[i],this._renderer.effect.addColorStop(e._offset,e._color)}return this.flagReset()}},texture:{render:function(e){this._update();var i=this.image;return(!this._renderer.effect||(this._flagLoaded||this._flagImage||this._flagVideo||this._flagRepeat)&&this.loaded)&&(this._renderer.effect=e.createPattern(this.image,this._repeat)),(this._flagOffset||this._flagLoaded||this._flagScale)&&(!(this._renderer.offset instanceof t.Vector)&&(this._renderer.offset=new t.Vector),this._renderer.offset.x=-this._offset.x,this._renderer.offset.y=-this._offset.y,i&&(this._renderer.offset.x+=i.width/2,this._renderer.offset.y+=i.height/2,this._scale instanceof t.Vector?(this._renderer.offset.x*=this._scale.x,this._renderer.offset.y*=this._scale.y):(this._renderer.offset.x*=this._scale,this._renderer.offset.y*=this._scale))),(this._flagScale||this._flagLoaded)&&(!(this._renderer.scale instanceof t.Vector)&&(this._renderer.scale=new t.Vector),this._scale instanceof t.Vector?this._renderer.scale.copy(this._scale):this._renderer.scale.set(this._scale,this._scale)),this.flagReset()}},renderSvgArcCommand:function(t,r,s,n,a,l,h,c,d,f){c=c*o/180,n=v(n),a=v(a);var u=(r-d)/2,_=(s-f)/2,m=x(c)*u+y(c)*_,b=-y(c)*u+x(c)*_,k=n*n,S=a*a,A=m*m,E=b*b,C=A/k+E/S;if(1<C){var R=w(C);k=(n*=R)*n,S=(a*=R)*a}var F=k*E+S*A,O=w(p(0,(k*S-F)/F));l===h&&(O=-O);var P=O*n*b/a,U=-O*a*m/n,T=x(c)*P-y(c)*U+(r+d)/2,N=y(c)*P+x(c)*U+(s+f)/2,j=i(1,0,(m-P)/n,(b-U)/a);e(t,T,N,n,a,j,j+i((m-P)/n,(b-U)/a,(-m-P)/n,(-b-U)/a)%g,0===h,c)}},A=t[t.Types.canvas]=function(e){var i=!1!==e.smoothing;this.domElement=e.domElement||document.createElement(\"canvas\"),this.ctx=this.domElement.getContext(\"2d\"),this.overdraw=e.overdraw||!1,n.isUndefined(this.ctx.imageSmoothingEnabled)||(this.ctx.imageSmoothingEnabled=i),this.scene=new t.Group,this.scene.parent=this};n.extend(A,{Utils:S}),n.extend(A.prototype,t.Utils.Events,{constructor:A,setSize:function(e,i,r){return this.width=e,this.height=i,this.ratio=n.isUndefined(r)?s(this.ctx):r,this.domElement.width=e*this.ratio,this.domElement.height=i*this.ratio,this.domElement.style&&n.extend(this.domElement.style,{width:e+\"px\",height:i+\"px\"}),this.trigger(t.Events.resize,e,i,r)},render:function(){var t=1===this.ratio;return t||(this.ctx.save(),this.ctx.scale(this.ratio,this.ratio)),this.overdraw||this.ctx.clearRect(0,0,this.width,this.height),S.group.render.call(this.scene,this.ctx),t||this.ctx.restore(),this}})}((void 0===t?self||window:t).Two),function(t){var e=t.root,i=t.Matrix.Multiply,r=t.Utils.mod,s=[1,0,0,0,1,0,0,0,1],n=new t.Array(9),o=t.Utils.getRatio,l=(t.Utils.getComputedMatrix,t[t.Types.canvas].Utils),h=t.Utils,c={isHidden:/(undefined|none|transparent)/i,canvas:e.document?e.document.createElement(\"canvas\"):{getContext:h.identity},alignments:{left:\"start\",middle:\"center\",right:\"end\"},matrix:new t.Matrix,group:{removeChild:function(t,e){if(t.children)for(var i=0;i<t.children.length;i++)c.group.removeChild(t.children[i],e);else e.deleteTexture(t._renderer.texture),delete t._renderer.texture},render:function(e,r){this._update();var s,a=this.parent,o=a._matrix&&a._matrix.manual||a._flagMatrix,l=this._matrix.manual||this._flagMatrix;if((o||l)&&(!this._renderer.matrix&&(this._renderer.matrix=new t.Array(9)),this._matrix.toTransformArray(!0,n),i(n,a._renderer.matrix,this._renderer.matrix),!(this._renderer.scale instanceof t.Vector)&&(this._renderer.scale=new t.Vector),this._scale instanceof t.Vector?(this._renderer.scale.x=this._scale.x,this._renderer.scale.y=this._scale.y):(this._renderer.scale.x=this._scale,this._renderer.scale.y=this._scale),!/renderer/i.test(a._renderer.type)&&(this._renderer.scale.x*=a._renderer.scale.x,this._renderer.scale.y*=a._renderer.scale.y),o&&(this._flagMatrix=!0)),this._mask&&(e.clear(e.STENCIL_BUFFER_BIT),e.enable(e.STENCIL_TEST),e.stencilFunc(e.ALWAYS,1,0),e.stencilOp(e.KEEP,e.KEEP,e.REPLACE),c[this._mask._renderer.type].render.call(this._mask,e,r,this),e.stencilFunc(e.EQUAL,1,255),e.stencilOp(e.KEEP,e.KEEP,e.KEEP)),this._flagOpacity=a._flagOpacity||this._flagOpacity,this._renderer.opacity=this._opacity*(a&&a._renderer?a._renderer.opacity:1),this._flagSubtractions)for(s=0;s<this.subtractions.length;s++)c.group.removeChild(this.subtractions[s],e);for(s=0;s<this.children.length;s++){var h=this.children[s];c[h._renderer.type].render.call(h,e,r)}return this._mask&&e.disable(e.STENCIL_TEST),this.flagReset()}},path:{updateCanvas:function(e){var i,s,n,o,d,f,u,p,m,v,y,x,b,w,k,S=e._renderer.vertices,A=this.canvas,E=this.ctx,C=e._renderer.scale,R=e._stroke,F=e._linewidth,O=e._fill,P=e._renderer.opacity||e._opacity,U=e._cap,T=e._join,N=e._miter,j=e._closed,L=e.dashes,M=S.length,V=M-1;A.width=_(g(e._renderer.rect.width*C.x),1),A.height=_(g(e._renderer.rect.height*C.y),1);var G,I=e._renderer.rect.centroid,B=I.x,z=I.y;E.clearRect(0,0,A.width,A.height),O&&(h.isString(O)?E.fillStyle=O:(c[O._renderer.type].render.call(O,E,e),E.fillStyle=O._renderer.effect)),R&&(h.isString(R)?E.strokeStyle=R:(c[R._renderer.type].render.call(R,E,e),E.strokeStyle=R._renderer.effect),F&&(E.lineWidth=F),N&&(E.miterLimit=N),T&&(E.lineJoin=T),!j&&U&&(E.lineCap=U)),h.isNumber(P)&&(E.globalAlpha=P),L&&0<L.length&&(E.lineDashOffset=L.offset||0,E.setLineDash(L)),E.save(),E.scale(C.x,C.y),E.translate(B,z),E.beginPath();for(var D,H=0;H<S.length;H++)switch(D=S[H],b=D.x,w=D.y,D.command){case t.Commands.close:E.closePath();break;case t.Commands.arc:var W=D.rx,q=D.ry,X=D.xAxisRotation,Y=D.largeArcFlag,K=D.sweepFlag,J=(n=S[s=j?r(H-1,M):_(H-1,0)]).x,$=n.y;l.renderSvgArcCommand(E,J,$,W,q,Y,K,X,b,w);break;case t.Commands.curve:s=j?r(H-1,M):_(H-1,0),i=j?r(H+1,M):a(H+1,V),n=S[s],o=S[i],m=n.controls&&n.controls.right||t.Vector.zero,v=D.controls&&D.controls.left||t.Vector.zero,n._relative?(u=m.x+n.x,p=m.y+n.y):(u=m.x,p=m.y),D._relative?(d=v.x+D.x,f=v.y+D.y):(d=v.x,f=v.y),E.bezierCurveTo(u,p,d,f,b,w),H>=V&&j&&(o=G,y=D.controls&&D.controls.right||t.Vector.zero,x=o.controls&&o.controls.left||t.Vector.zero,D._relative?(u=y.x+D.x,p=y.y+D.y):(u=y.x,p=y.y),o._relative?(d=x.x+o.x,f=x.y+o.y):(d=x.x,f=x.y),b=o.x,w=o.y,E.bezierCurveTo(u,p,d,f,b,w));break;case t.Commands.line:E.lineTo(b,w);break;case t.Commands.move:G=D,E.moveTo(b,w)}j&&E.closePath(),c.isHidden.test(O)||((k=O._renderer&&O._renderer.offset)&&(E.save(),E.translate(-O._renderer.offset.x,-O._renderer.offset.y),E.scale(O._renderer.scale.x,O._renderer.scale.y)),E.fill(),k&&E.restore()),c.isHidden.test(R)||((k=R._renderer&&R._renderer.offset)&&(E.save(),E.translate(-R._renderer.offset.x,-R._renderer.offset.y),E.scale(R._renderer.scale.x,R._renderer.scale.y),E.lineWidth=F/R._renderer.scale.x),E.stroke(),k&&E.restore()),E.restore()},getBoundingClientRect:function(t,e,i){var r,s,n=1/0,o=-1/0,l=1/0,c=-1/0;t.forEach(function(t){var e,i,r,s,h,d,f=t.x,u=t.y,g=t.controls;l=a(u,l),n=a(f,n),o=_(f,o),c=_(u,c),t.controls&&(h=g.left,d=g.right,h&&d)&&(e=t._relative?h.x+f:h.x,i=t._relative?h.y+u:h.y,r=t._relative?d.x+f:d.x,s=t._relative?d.y+u:d.y,e&&i&&r&&s&&(l=a(i,s,l),n=a(e,r,n),o=_(e,r,o),c=_(i,s,c)))}),h.isNumber(e)&&(l-=e,n-=e,o+=e,c+=e),r=o-n,s=c-l,i.top=l,i.left=n,i.right=o,i.bottom=c,i.width=r,i.height=s,i.centroid||(i.centroid={}),i.centroid.x=-n,i.centroid.y=-l},render:function(e,r,s){if(!this._visible||!this._opacity)return this;this._update();var a=this.parent,o=a._matrix.manual||a._flagMatrix,l=this._matrix.manual||this._flagMatrix,h=this._flagVertices||this._flagFill||this._fill instanceof t.LinearGradient&&(this._fill._flagSpread||this._fill._flagStops||this._fill._flagEndPoints)||this._fill instanceof t.RadialGradient&&(this._fill._flagSpread||this._fill._flagStops||this._fill._flagRadius||this._fill._flagCenter||this._fill._flagFocal)||this._fill instanceof t.Texture&&(this._fill._flagLoaded&&this._fill.loaded||this._fill._flagImage||this._fill._flagVideo||this._fill._flagRepeat||this._fill._flagOffset||this._fill._flagScale)||this._stroke instanceof t.LinearGradient&&(this._stroke._flagSpread||this._stroke._flagStops||this._stroke._flagEndPoints)||this._stroke instanceof t.RadialGradient&&(this._stroke._flagSpread||this._stroke._flagStops||this._stroke._flagRadius||this._stroke._flagCenter||this._stroke._flagFocal)||this._stroke instanceof t.Texture&&(this._stroke._flagLoaded&&this._stroke.loaded||this._stroke._flagImage||this._stroke._flagVideo||this._stroke._flagRepeat||this._stroke._flagOffset||this._fill._flagScale)||this._flagStroke||this._flagLinewidth||this._flagOpacity||a._flagOpacity||this._flagVisible||this._flagCap||this._flagJoin||this._flagMiter||this._flagScale||this.dashes&&0<this.dashes.length||!this._renderer.texture;if((o||l)&&(!this._renderer.matrix&&(this._renderer.matrix=new t.Array(9)),this._matrix.toTransformArray(!0,n),i(n,a._renderer.matrix,this._renderer.matrix),!(this._renderer.scale instanceof t.Vector)&&(this._renderer.scale=new t.Vector),this._scale instanceof t.Vector?(this._renderer.scale.x=this._scale.x*a._renderer.scale.x,this._renderer.scale.y=this._scale.y*a._renderer.scale.y):(this._renderer.scale.x=this._scale*a._renderer.scale.x,this._renderer.scale.y=this._scale*a._renderer.scale.y)),h?(!this._renderer.rect&&(this._renderer.rect={}),this._renderer.opacity=this._opacity*a._renderer.opacity,c.path.getBoundingClientRect(this._renderer.vertices,this._linewidth,this._renderer.rect),c.updateTexture.call(c,e,this)):(this._fill&&this._fill._update&&this._fill._update(),this._stroke&&this._stroke._update&&this._stroke._update()),!this._clip||s){e.bindTexture(e.TEXTURE_2D,this._renderer.texture);var d=this._renderer.rect;return e.uniformMatrix3fv(r.matrix,!1,this._renderer.matrix),e.uniform4f(r.rect,d.left,d.top,d.right,d.bottom),e.drawArrays(e.TRIANGLES,0,6),this.flagReset()}}},text:{updateCanvas:function(t){var e=this.canvas,i=this.ctx,r=t._renderer.scale,s=t._stroke,n=t._linewidth*r,a=t._fill,o=t._renderer.opacity||t._opacity,l=t.dashes;e.width=_(g(t._renderer.rect.width*r.x),1),e.height=_(g(t._renderer.rect.height*r.y),1);var d,f,u,p,m,v,y,x=t._renderer.rect.centroid,b=x.x,w=x.y,k=a._renderer&&a._renderer.offset&&s._renderer&&s._renderer.offset;i.clearRect(0,0,e.width,e.height),k||(i.font=[t._style,t._weight,t._size+\"px/\"+t._leading+\"px\",t._family].join(\" \")),i.textAlign=\"center\",i.textBaseline=\"middle\",a&&(h.isString(a)?i.fillStyle=a:(c[a._renderer.type].render.call(a,i,t),i.fillStyle=a._renderer.effect)),s&&(h.isString(s)?i.strokeStyle=s:(c[s._renderer.type].render.call(s,i,t),i.strokeStyle=s._renderer.effect),n&&(i.lineWidth=n)),h.isNumber(o)&&(i.globalAlpha=o),l&&0<l.length&&(i.lineDashOffset=l.offset||0,i.setLineDash(l)),i.save(),i.scale(r.x,r.y),i.translate(b,w),c.isHidden.test(a)||(a._renderer&&a._renderer.offset?(v=a._renderer.scale.x,y=a._renderer.scale.y,i.save(),i.translate(-a._renderer.offset.x,-a._renderer.offset.y),i.scale(v,y),d=t._size/a._renderer.scale.y,f=t._leading/a._renderer.scale.y,i.font=[t._style,t._weight,d+\"px/\",f+\"px\",t._family].join(\" \"),u=a._renderer.offset.x/a._renderer.scale.x,p=a._renderer.offset.y/a._renderer.scale.y,i.fillText(t.value,u,p),i.restore()):i.fillText(t.value,0,0)),c.isHidden.test(s)||(s._renderer&&s._renderer.offset?(v=s._renderer.scale.x,y=s._renderer.scale.y,i.save(),i.translate(-s._renderer.offset.x,-s._renderer.offset.y),i.scale(v,y),d=t._size/s._renderer.scale.y,f=t._leading/s._renderer.scale.y,i.font=[t._style,t._weight,d+\"px/\",f+\"px\",t._family].join(\" \"),u=s._renderer.offset.x/s._renderer.scale.x,p=s._renderer.offset.y/s._renderer.scale.y,m=n/s._renderer.scale.x,i.lineWidth=m,i.strokeText(t.value,u,p),i.restore()):i.strokeText(t.value,0,0)),i.restore()},getBoundingClientRect:function(t,e){var i=c.ctx;i.font=[t._style,t._weight,t._size+\"px/\"+t._leading+\"px\",t._family].join(\" \"),i.textAlign=\"center\",i.textBaseline=t._baseline;var r=1.25*i.measureText(t._value).width,s=1.25*_(t._size,t._leading);this._linewidth&&!c.isHidden.test(this._stroke)&&(r+=2*this._linewidth,s+=2*this._linewidth);var n=r/2,a=s/2;switch(c.alignments[t._alignment]||t._alignment){case c.alignments.left:e.left=0,e.right=r;break;case c.alignments.right:e.left=-r,e.right=0;break;default:e.left=-n,e.right=n}switch(t._baseline){case\"bottom\":e.top=-s,e.bottom=0;break;case\"top\":e.top=0,e.bottom=s;break;default:e.top=-a,e.bottom=a}e.width=r,e.height=s,e.centroid||(e.centroid={}),e.centroid.x=n,e.centroid.y=a},render:function(e,r,s){if(!this._visible||!this._opacity)return this;this._update();var a=this.parent,o=a._matrix.manual||a._flagMatrix,l=this._matrix.manual||this._flagMatrix,h=this._flagVertices||this._flagFill||this._fill instanceof t.LinearGradient&&(this._fill._flagSpread||this._fill._flagStops||this._fill._flagEndPoints)||this._fill instanceof t.RadialGradient&&(this._fill._flagSpread||this._fill._flagStops||this._fill._flagRadius||this._fill._flagCenter||this._fill._flagFocal)||this._fill instanceof t.Texture&&(this._fill._flagLoaded&&this._fill.loaded||this._fill._flagImage||this._fill._flagVideo||this._fill._flagRepeat||this._fill._flagOffset||this._fill._flagScale)||this._stroke instanceof t.LinearGradient&&(this._stroke._flagSpread||this._stroke._flagStops||this._stroke._flagEndPoints)||this._stroke instanceof t.RadialGradient&&(this._stroke._flagSpread||this._stroke._flagStops||this._stroke._flagRadius||this._stroke._flagCenter||this._stroke._flagFocal)||this._stroke instanceof t.Texture&&(this._stroke._flagLoaded&&this._stroke.loaded||this._stroke._flagImage||this._stroke._flagVideo||this._stroke._flagRepeat||this._stroke._flagOffset||this._fill._flagScale)||this._flagStroke||this._flagLinewidth||this._flagOpacity||a._flagOpacity||this._flagVisible||this._flagScale||this._flagValue||this._flagFamily||this._flagSize||this._flagLeading||this._flagAlignment||this._flagBaseline||this._flagStyle||this._flagWeight||this._flagDecoration||this.dashes&&0<this.dashes.length||!this._renderer.texture;if((o||l)&&(!this._renderer.matrix&&(this._renderer.matrix=new t.Array(9)),this._matrix.toTransformArray(!0,n),i(n,a._renderer.matrix,this._renderer.matrix),!(this._renderer.scale instanceof t.Vector)&&(this._renderer.scale=new t.Vector),this._scale instanceof t.Vector?(this._renderer.scale.x=this._scale.x*a._renderer.scale.x,this._renderer.scale.y=this._scale.y*a._renderer.scale.y):(this._renderer.scale.x=this._scale*a._renderer.scale.x,this._renderer.scale.y=this._scale*a._renderer.scale.y)),h?(!this._renderer.rect&&(this._renderer.rect={}),this._renderer.opacity=this._opacity*a._renderer.opacity,c.text.getBoundingClientRect(this,this._renderer.rect),c.updateTexture.call(c,e,this)):(this._fill&&this._fill._update&&this._fill._update(),this._stroke&&this._stroke._update&&this._stroke._update()),!this._clip||s){e.bindTexture(e.TEXTURE_2D,this._renderer.texture);var d=this._renderer.rect;return e.uniformMatrix3fv(r.matrix,!1,this._renderer.matrix),e.uniform4f(r.rect,d.left,d.top,d.right,d.bottom),e.drawArrays(e.TRIANGLES,0,6),this.flagReset()}}},\"linear-gradient\":{render:function(t){if(t.canvas.getContext(\"2d\")){if(this._update(),!this._renderer.effect||this._flagEndPoints||this._flagStops){this._renderer.effect=t.createLinearGradient(this.left._x,this.left._y,this.right._x,this.right._y);for(var e,i=0;i<this.stops.length;i++)e=this.stops[i],this._renderer.effect.addColorStop(e._offset,e._color)}return this.flagReset()}}},\"radial-gradient\":{render:function(t){if(t.canvas.getContext(\"2d\")){if(this._update(),!this._renderer.effect||this._flagCenter||this._flagFocal||this._flagRadius||this._flagStops){this._renderer.effect=t.createRadialGradient(this.center._x,this.center._y,0,this.focal._x,this.focal._y,this._radius);for(var e,i=0;i<this.stops.length;i++)e=this.stops[i],this._renderer.effect.addColorStop(e._offset,e._color)}return this.flagReset()}}},texture:{render:function(e){if(e.canvas.getContext(\"2d\")){this._update();var i=this.image;if((this._flagLoaded||this._flagImage||this._flagVideo||this._flagRepeat)&&this.loaded)this._renderer.effect=e.createPattern(i,this._repeat);else if(!this._renderer.effect)return this.flagReset();return(this._flagOffset||this._flagLoaded||this._flagScale)&&(!(this._renderer.offset instanceof t.Vector)&&(this._renderer.offset=new t.Vector),this._renderer.offset.x=-this._offset.x,this._renderer.offset.y=-this._offset.y,i&&(this._renderer.offset.x+=i.width/2,this._renderer.offset.y+=i.height/2,this._scale instanceof t.Vector?(this._renderer.offset.x*=this._scale.x,this._renderer.offset.y*=this._scale.y):(this._renderer.offset.x*=this._scale,this._renderer.offset.y*=this._scale))),(this._flagScale||this._flagLoaded)&&(!(this._renderer.scale instanceof t.Vector)&&(this._renderer.scale=new t.Vector),this._scale instanceof t.Vector?this._renderer.scale.copy(this._scale):this._renderer.scale.set(this._scale,this._scale)),this.flagReset()}}},updateTexture:function(t,e){this[e._renderer.type].updateCanvas.call(c,e),e._renderer.texture||(e._renderer.texture=t.createTexture()),t.bindTexture(t.TEXTURE_2D,e._renderer.texture),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.LINEAR),0>=this.canvas.width||0>=this.canvas.height||t.texImage2D(t.TEXTURE_2D,0,t.RGBA,t.RGBA,t.UNSIGNED_BYTE,this.canvas)},program:{create:function(e,i){var r,s;if(r=e.createProgram(),h.each(i,function(t){e.attachShader(r,t)}),e.linkProgram(r),!e.getProgramParameter(r,e.LINK_STATUS))throw s=e.getProgramInfoLog(r),e.deleteProgram(r),new t.Utils.Error(\"unable to link program: \"+s);return r}},shaders:{create:function(e,i,r){var s,n;if(s=e.createShader(e[r]),e.shaderSource(s,i),e.compileShader(s),!e.getShaderParameter(s,e.COMPILE_STATUS))throw n=e.getShaderInfoLog(s),e.deleteShader(s),new t.Utils.Error(\"unable to compile shader \"+s+\": \"+n);return s},types:{vertex:\"VERTEX_SHADER\",fragment:\"FRAGMENT_SHADER\"},vertex:\"precision mediump float;\\nattribute vec2 a_position;\\n\\nuniform mat3 u_matrix;\\nuniform vec2 u_resolution;\\nuniform vec4 u_rect;\\n\\nvarying vec2 v_textureCoords;\\n\\nvoid main() {\\n   vec2 rectCoords = (a_position * (u_rect.zw - u_rect.xy)) + u_rect.xy;\\n   vec2 projected = (u_matrix * vec3(rectCoords, 1.0)).xy;\\n   vec2 normal = projected / u_resolution;\\n   vec2 clipspace = (normal * 2.0) - 1.0;\\n\\n   gl_Position = vec4(clipspace * vec2(1.0, -1.0), 0.0, 1.0);\\n   v_textureCoords = a_position;\\n}\",fragment:\"precision mediump float;\\n\\nuniform sampler2D u_image;\\nvarying vec2 v_textureCoords;\\n\\nvoid main() {\\n  vec4 texel = texture2D(u_image, v_textureCoords);\\n  if (texel.a == 0.0) {\\n    discard;\\n  }\\n  gl_FragColor = texel;\\n}\"},TextureRegistry:new t.Registry};c.ctx=c.canvas.getContext(\"2d\");var d=t[t.Types.webgl]=function(e){var i,r,n;if(this.domElement=e.domElement||document.createElement(\"canvas\"),h.isUndefined(e.offscreenElement)||(c.canvas=e.offscreenElement,c.ctx=c.canvas.getContext(\"2d\")),this.scene=new t.Group,this.scene.parent=this,this._renderer={type:\"renderer\",matrix:new t.Array(s),scale:1,opacity:1},this._flagMatrix=!0,e=h.defaults(e||{},{antialias:!1,alpha:!0,premultipliedAlpha:!0,stencil:!0,preserveDrawingBuffer:!0,overdraw:!1}),this.overdraw=e.overdraw,i=this.ctx=this.domElement.getContext(\"webgl\",e)||this.domElement.getContext(\"experimental-webgl\",e),!this.ctx)throw new t.Utils.Error(\"unable to create a webgl context. Try using another renderer.\");r=c.shaders.create(i,c.shaders.vertex,c.shaders.types.vertex),n=c.shaders.create(i,c.shaders.fragment,c.shaders.types.fragment),this.program=c.program.create(i,[r,n]),i.useProgram(this.program),this.program.position=i.getAttribLocation(this.program,\"a_position\"),this.program.matrix=i.getUniformLocation(this.program,\"u_matrix\"),this.program.rect=i.getUniformLocation(this.program,\"u_rect\");var a=i.createBuffer();i.bindBuffer(i.ARRAY_BUFFER,a),i.vertexAttribPointer(this.program.position,2,i.FLOAT,!1,0,0),i.enableVertexAttribArray(this.program.position),i.bufferData(i.ARRAY_BUFFER,new t.Array([0,0,1,0,0,1,0,1,1,0,1,1]),i.STATIC_DRAW),i.enable(i.BLEND),i.pixelStorei(i.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!0),i.blendEquation(i.FUNC_ADD),i.blendFunc(i.ONE,i.ONE_MINUS_SRC_ALPHA)};h.extend(d,{Utils:c}),h.extend(d.prototype,t.Utils.Events,{constructor:d,setSize:function(e,i,r){this.width=e,this.height=i,this.ratio=h.isUndefined(r)?o(this.ctx):r,this.domElement.width=e*this.ratio,this.domElement.height=i*this.ratio,h.isObject(this.domElement.style)&&h.extend(this.domElement.style,{width:e+\"px\",height:i+\"px\"}),this._renderer.matrix[0]=this._renderer.matrix[4]=this._renderer.scale=this.ratio,this._flagMatrix=!0,this.ctx.viewport(0,0,e*this.ratio,i*this.ratio);var s=this.ctx.getUniformLocation(this.program,\"u_resolution\");return this.ctx.uniform2f(s,e*this.ratio,i*this.ratio),this.trigger(t.Events.resize,e,i,r)},render:function(){var t=this.ctx;return this.overdraw||t.clear(t.COLOR_BUFFER_BIT),c.group.render.call(this.scene,t,this.program),this._flagMatrix=!1,this}})}((void 0===t?self||window:t).Two),function(t){var e=t.Utils,i=t.Shape=function(){this._renderer={},this._renderer.flagMatrix=e.bind(i.FlagMatrix,this),this.isShape=!0,this.id=t.Identifier+t.uniqueId(),this.classList=[],this.matrix=new t.Matrix,this.translation=new t.Vector,this.rotation=0,this.scale=1};e.extend(i,{FlagMatrix:function(){this._flagMatrix=!0},MakeObservable:function(r){var s={enumerable:!1,get:function(){return this._translation},set:function(e){this._translation&&this._translation.unbind(t.Events.change,this._renderer.flagMatrix),this._translation=e,this._translation.bind(t.Events.change,this._renderer.flagMatrix),i.FlagMatrix.call(this)}};Object.defineProperty(r,\"translation\",s),Object.defineProperty(r,\"position\",s),Object.defineProperty(r,\"rotation\",{enumerable:!0,get:function(){return this._rotation},set:function(t){this._rotation=t,this._flagMatrix=!0}}),Object.defineProperty(r,\"scale\",{enumerable:!0,get:function(){return this._scale},set:function(e){this._scale instanceof t.Vector&&this._scale.unbind(t.Events.change,this._renderer.flagMatrix),this._scale=e,this._scale instanceof t.Vector&&this._scale.bind(t.Events.change,this._renderer.flagMatrix),this._flagMatrix=!0,this._flagScale=!0}}),Object.defineProperty(r,\"matrix\",{enumerable:!0,get:function(){return this._matrix},set:function(t){this._matrix=t,this._flagMatrix=!0}}),Object.defineProperty(r,\"className\",{enumerable:!0,get:function(){return this._className},set:function(t){if(this._flagClassName=this._className!==t,this._flagClassName){for(var i=this._className.split(/\\s+?/),r=t.split(/\\s+?/),s=0;s<i.length;s++){var n=i[s],a=e.indexOf(this.classList,n);0<=a&&this.classList.splice(a,1)}this.classList=this.classList.concat(r)}this._className=t}})}}),e.extend(i.prototype,t.Utils.Events,{_flagMatrix:!0,_flagScale:!1,_flagClassName:!1,_translation:null,_rotation:0,_scale:1,_className:\"\",constructor:i,addTo:function(t){return t.add(this),this},clone:function(t){var e=new i;return e.translation.copy(this.translation),e.rotation=this.rotation,e.scale=this.scale,this.matrix.manual&&e.matrix.copy(this.matrix),t&&t.add(e),e._update()},_update:function(e){return!this._matrix.manual&&this._flagMatrix&&(this._matrix.identity().translate(this.translation.x,this.translation.y),this._scale instanceof t.Vector?this._matrix.scale(this._scale.x,this._scale.y):this._matrix.scale(this._scale),this._matrix.rotate(this.rotation)),e&&this.parent&&this.parent._update&&this.parent._update(),this},flagReset:function(){return this._flagMatrix=this._flagScale=this._flagClassName=!1,this}}),i.MakeObservable(i.prototype)}((void 0===t?self||window:t).Two),function(t){function e(t,e){if(0===e||1===e)return!0;for(var i,r=t._length*e,s=0,n=0;n<t._lengths.length;n++){if(i=t._lengths[n],s>=r)return 0<=r-s;s+=i}return!1}function i(t,e){var i=t._length;if(0>=e)return 0;if(e>=i)return t._lengths.length-1;for(var r=0,s=0;r<t._lengths.length;r++){if(s+t._lengths[r]>=e)return e-=s,_(r-1,0)+e/t._lengths[r];s+=t._lengths[r]}return-1}function r(e,i,r){var s,n,a,o,l,h,c,d,f=i.controls&&i.controls.right,u=e.controls&&e.controls.left;return s=i.x,l=i.y,n=(f||i).x,h=(f||i).y,a=(u||e).x,c=(u||e).y,o=e.x,d=e.y,f&&i._relative&&(n+=i.x,h+=i.y),u&&e._relative&&(a+=e.x,c+=e.y),t.Utils.getCurveLength(s,l,n,h,a,c,o,d,r)}function s(e,i,r){var s,n,a,o,l,h,c,d,f=i.controls&&i.controls.right,u=e.controls&&e.controls.left;return s=i.x,l=i.y,n=(f||i).x,h=(f||i).y,a=(u||e).x,c=(u||e).y,o=e.x,d=e.y,f&&i._relative&&(n+=i.x,h+=i.y),u&&e._relative&&(a+=e.x,c+=e.y),t.Utils.subdivide(s,l,n,h,a,c,o,d,r)}var o=a,l=_,h=t.Utils.getComputedMatrix,c={},d=t.Utils;d.each(t.Commands,function(t,e){c[e]=new RegExp(t)});var f=t.Path=function(e,i,r,s){t.Shape.call(this),this._renderer.type=\"path\",this._renderer.flagVertices=d.bind(f.FlagVertices,this),this._renderer.bindVertices=d.bind(f.BindVertices,this),this._renderer.unbindVertices=d.bind(f.UnbindVertices,this),this._renderer.flagFill=d.bind(f.FlagFill,this),this._renderer.flagStroke=d.bind(f.FlagStroke,this),this._renderer.vertices=[],this._renderer.collection=[],this._closed=!!i,this._curved=!!r,this.beginning=0,this.ending=1,this.fill=\"#fff\",this.stroke=\"#000\",this.linewidth=1,this.opacity=1,this.className=\"\",this.visible=!0,this.cap=\"butt\",this.join=\"miter\",this.miter=4,this.vertices=e,this.automatic=!s,this.dashes=[],this.dashes.offset=0};d.extend(f,{Properties:[\"fill\",\"stroke\",\"linewidth\",\"opacity\",\"visible\",\"cap\",\"join\",\"miter\",\"closed\",\"curved\",\"automatic\",\"beginning\",\"ending\"],Utils:{getCurveLength:r},FlagVertices:function(){this._flagVertices=!0,this._flagLength=!0,this.parent&&(this.parent._flagLength=!0)},BindVertices:function(e){for(var i=e.length;i--;)e[i].bind(t.Events.change,this._renderer.flagVertices);this._renderer.flagVertices()},UnbindVertices:function(e){for(var i=e.length;i--;)e[i].unbind(t.Events.change,this._renderer.flagVertices);this._renderer.flagVertices()},FlagFill:function(){this._flagFill=!0},FlagStroke:function(){this._flagStroke=!0},MakeObservable:function(e){t.Shape.MakeObservable(e),d.each(f.Properties.slice(2,8),t.Utils.defineProperty,e),Object.defineProperty(e,\"fill\",{enumerable:!0,get:function(){return this._fill},set:function(e){(this._fill instanceof t.Gradient||this._fill instanceof t.LinearGradient||this._fill instanceof t.RadialGradient||this._fill instanceof t.Texture)&&this._fill.unbind(t.Events.change,this._renderer.flagFill),this._fill=e,this._flagFill=!0,(this._fill instanceof t.Gradient||this._fill instanceof t.LinearGradient||this._fill instanceof t.RadialGradient||this._fill instanceof t.Texture)&&this._fill.bind(t.Events.change,this._renderer.flagFill)}}),Object.defineProperty(e,\"stroke\",{enumerable:!0,get:function(){return this._stroke},set:function(e){(this._stroke instanceof t.Gradient||this._stroke instanceof t.LinearGradient||this._stroke instanceof t.RadialGradient||this._stroke instanceof t.Texture)&&this._stroke.unbind(t.Events.change,this._renderer.flagStroke),this._stroke=e,this._flagStroke=!0,(this._stroke instanceof t.Gradient||this._stroke instanceof t.LinearGradient||this._stroke instanceof t.RadialGradient||this._stroke instanceof t.Texture)&&this._stroke.bind(t.Events.change,this._renderer.flagStroke)}}),Object.defineProperty(e,\"length\",{get:function(){return this._flagLength&&this._updateLength(),this._length}}),Object.defineProperty(e,\"closed\",{enumerable:!0,get:function(){return this._closed},set:function(t){this._closed=!!t,this._flagVertices=!0}}),Object.defineProperty(e,\"curved\",{enumerable:!0,get:function(){return this._curved},set:function(t){this._curved=!!t,this._flagVertices=!0}}),Object.defineProperty(e,\"automatic\",{enumerable:!0,get:function(){return this._automatic},set:function(t){if(t!==this._automatic){this._automatic=!!t;var e=this._automatic?\"ignore\":\"listen\";d.each(this.vertices,function(t){t[e]()})}}}),Object.defineProperty(e,\"beginning\",{enumerable:!0,get:function(){return this._beginning},set:function(t){this._beginning=t,this._flagVertices=!0}}),Object.defineProperty(e,\"ending\",{enumerable:!0,get:function(){return this._ending},set:function(t){this._ending=t,this._flagVertices=!0}}),Object.defineProperty(e,\"vertices\",{enumerable:!0,get:function(){return this._collection},set:function(e){this._renderer.flagVertices;var i=this._renderer.bindVertices,r=this._renderer.unbindVertices;this._collection&&this._collection.unbind(t.Events.insert,i).unbind(t.Events.remove,r),this._collection=e instanceof t.Utils.Collection?e:new t.Utils.Collection(e||[]),this._collection.bind(t.Events.insert,i).bind(t.Events.remove,r),i(this._collection)}}),Object.defineProperty(e,\"clip\",{enumerable:!0,get:function(){return this._clip},set:function(t){this._clip=t,this._flagClip=!0}}),Object.defineProperty(e,\"dashes\",{enumerable:!0,get:function(){return this._dashes},set:function(t){d.isNumber(t.offset)||(t.offset=this._dashes.offset||0),this._dashes=t}})}}),d.extend(f.prototype,t.Shape.prototype,{_flagVertices:!0,_flagLength:!0,_flagFill:!0,_flagStroke:!0,_flagLinewidth:!0,_flagOpacity:!0,_flagVisible:!0,_flagCap:!0,_flagJoin:!0,_flagMiter:!0,_flagClip:!1,_length:0,_fill:\"#fff\",_stroke:\"#000\",_linewidth:1,_opacity:1,_visible:!0,_cap:\"round\",_join:\"round\",_miter:4,_closed:!0,_curved:!1,_automatic:!0,_beginning:0,_ending:1,_clip:!1,_dashes:[],constructor:f,clone:function(t){for(var e=new f,i=0;i<this.vertices.length;i++)e.vertices.push(this.vertices[i].clone());for(var r,s=0;s<f.Properties.length;s++)e[r=f.Properties[s]]=this[r];return e.className=this.className,e.translation.copy(this.translation),e.rotation=this.rotation,e.scale=this.scale,this.matrix.manual&&e.matrix.copy(this.matrix),t&&t.add(e),e._update()},toObject:function(){var e={vertices:d.map(this.vertices,function(t){return t.toObject()})};return d.each(t.Shape.Properties,function(t){e[t]=this[t]},this),e.className=this.className,e.translation=this.translation.toObject(),e.rotation=this.rotation,e.scale=this.scale instanceof t.Vector?this.scale.toObject():this.scale,this.matrix.manual&&(e.matrix=this.matrix.toObject()),e},noFill:function(){return this.fill=\"transparent\",this},noStroke:function(){return this.stroke=void 0,this},corner:function(){var t=this.getBoundingClientRect(!0);return t.centroid={x:t.left+t.width/2,y:t.top+t.height/2},d.each(this.vertices,function(e){e.subSelf(t.centroid),e.x+=t.width/2,e.y+=t.height/2}),this},center:function(){var t=this.getBoundingClientRect(!0);return t.centroid={x:t.left+t.width/2-this.translation.x,y:t.top+t.height/2-this.translation.y},d.each(this.vertices,function(e){e.subSelf(t.centroid)}),this},remove:function(){return this.parent?(this.parent.remove(this),this):this},getBoundingClientRect:function(e){var i,r,s,n,a,c,d,f,u=1/0,_=-1/0,g=1/0,p=-1/0;if(this._update(!0),i=e?this._matrix:h(this),r=this.linewidth/2,0>=(s=this._renderer.vertices.length))return{width:0,height:0};for(n=0;n<s;n++)if(f=this._renderer.vertices[n],(a=this._renderer.vertices[(n+s-1)%s]).controls&&f.controls){c=a.relative?i.multiply(a.controls.right.x+a.x,a.controls.right.y+a.y,1):i.multiply(a.controls.right.x,a.controls.right.y,1),a=i.multiply(a.x,a.y,1),d=f.relative?i.multiply(f.controls.left.x+f.x,f.controls.left.y+f.y,1):i.multiply(f.controls.left.x,f.controls.left.y,1),f=i.multiply(f.x,f.y,1);var m=t.Utils.getCurveBoundingBox(a.x,a.y,c.x,c.y,d.x,d.y,f.x,f.y);g=o(m.min.y-r,g),u=o(m.min.x-r,u),_=l(m.max.x+r,_),p=l(m.max.y+r,p)}else 1>=n&&(a=i.multiply(a.x,a.y,1),g=o(a.y-r,g),u=o(a.x-r,u),_=l(a.x+r,_),p=l(a.y+r,p)),f=i.multiply(f.x,f.y,1),g=o(f.y-r,g),u=o(f.x-r,u),_=l(f.x+r,_),p=l(f.y+r,p);return{top:g,left:u,right:_,bottom:p,width:_-u,height:p-g}},getPointAt:function(e,i){for(var r,s,n,o,l,h,c,f,u,g,p,m,v,y,x,b=this.length*a(_(e,0),1),w=this.vertices.length,k=null,S=null,A=0,E=this._lengths.length,C=0;A<E;A++){if(C+this._lengths[A]>=b){this._closed?(r=t.Utils.mod(A,w),s=t.Utils.mod(A-1,w),0===A&&(r=s,s=A)):(r=A,s=a(_(A-1,0),w-1)),k=this.vertices[r],S=this.vertices[s],b-=C,e=0===this._lengths[A]?0:b/this._lengths[A];break}C+=this._lengths[A]}if(d.isNull(k)||d.isNull(S))return null;if(!k)return S;if(!S)return k;x=S.controls&&S.controls.right,y=k.controls&&k.controls.left,l=S.x,g=S.y,h=(x||S).x,p=(x||S).y,c=(y||k).x,m=(y||k).y,f=k.x,v=k.y,x&&S.relative&&(h+=S.x,p+=S.y),y&&k.relative&&(c+=k.x,m+=k.y),o=t.Utils.getComponentOnCubicBezier(e,l,h,c,f),u=t.Utils.getComponentOnCubicBezier(e,g,p,m,v);var R=t.Utils.lerp(l,h,e),F=t.Utils.lerp(g,p,e),O=t.Utils.lerp(h,c,e),P=t.Utils.lerp(p,m,e),U=t.Utils.lerp(c,f,e),T=t.Utils.lerp(m,v,e),N=t.Utils.lerp(R,O,e),j=t.Utils.lerp(F,P,e),L=t.Utils.lerp(O,U,e),M=t.Utils.lerp(P,T,e);return d.isObject(i)?(i.x=o,i.y=u,d.isObject(i.controls)||t.Anchor.AppendCurveProperties(i),i.controls.left.x=N,i.controls.left.y=j,i.controls.right.x=L,i.controls.right.y=M,(!d.isBoolean(i.relative)||i.relative)&&(i.controls.left.x-=o,i.controls.left.y-=u,i.controls.right.x-=o,i.controls.right.y-=u),i.t=e,i):((n=new t.Anchor(o,u,N-o,j-u,L-o,M-u,this._curved?t.Commands.curve:t.Commands.line)).t=e,n)},plot:function(){if(this.curved)return t.Utils.getCurveFromPoints(this._collection,this.closed),this;for(var e=0;e<this._collection.length;e++)this._collection[e].command=0===e?t.Commands.move:t.Commands.line;return this},subdivide:function(e){this._update();var i=this.vertices.length-1,r=this.vertices[i],n=this._closed||this.vertices[i]._command===t.Commands.close,a=[];return d.each(this.vertices,function(o,l){if(0>=l&&!n)r=o;else{if(o.command===t.Commands.move)return a.push(new t.Anchor(r.x,r.y)),0<l&&(a[a.length-1].command=t.Commands.line),void(r=o);var h=s(o,r,e);a=a.concat(h),d.each(h,function(e,i){e.command=0>=i&&r.command===t.Commands.move?t.Commands.move:t.Commands.line}),l>=i&&(this._closed&&this._automatic?(h=s(o,r=o,e),a=a.concat(h),d.each(h,function(e,i){e.command=0>=i&&r.command===t.Commands.move?t.Commands.move:t.Commands.line})):n&&a.push(new t.Anchor(o.x,o.y)),a[a.length-1].command=n?t.Commands.close:t.Commands.line),r=o}},this),this._automatic=!1,this._curved=!1,this.vertices=a,this},_updateLength:function(e,i){i||this._update();var s=this.vertices.length,n=this.vertices[s-1],a=0;return d.isUndefined(this._lengths)&&(this._lengths=[]),d.each(this.vertices,function(i,s){return 0>=s||i.command===t.Commands.move?(n=i,void(this._lengths[s]=0)):(this._lengths[s]=r(i,n,e),a+=this._lengths[s],void(n=i))},this),this._length=a,this._flagLength=!1,this},_update:function(){if(this._flagVertices){this._automatic&&this.plot(),this._flagLength&&this._updateLength(void 0,!0);var r,s,o,l,h,c=this._collection.length,d=this._closed,f=a(this._beginning,this._ending),u=_(this._beginning,this._ending),p=i(this,f*this._length),m=i(this,u*this._length),v=g(p),y=n(m);this._renderer.vertices.length=0;for(var x=0;x<c;x++)this._renderer.collection.length<=x&&this._renderer.collection.push(new t.Anchor),x>y&&!s?((h=this._renderer.collection[x]).copy(this._collection[x]),this.getPointAt(u,h),h.command=this._renderer.collection[x].command,this._renderer.vertices.push(h),s=h,(o=this._collection[x-1])&&o.controls&&(h.controls.right.clear(),this._renderer.collection[x-1].controls.right.clear().lerp(o.controls.right,h.t))):x>=v&&x<=y&&(h=this._renderer.collection[x].copy(this._collection[x]),this._renderer.vertices.push(h),x===y&&e(this,u)?(s=h,!d&&s.controls&&s.controls.right.clear()):x===v&&e(this,f)&&((r=h).command=t.Commands.move,!d&&r.controls&&r.controls.left.clear()));0<v&&!r&&(x=v-1,(h=this._renderer.collection[x]).copy(this._collection[x]),this.getPointAt(f,h),h.command=t.Commands.move,this._renderer.vertices.unshift(h),r=h,(l=this._collection[x+1])&&l.controls&&(h.controls.left.clear(),this._renderer.collection[x+1].controls.left.copy(l.controls.left).lerp(t.Vector.zero,h.t)))}return t.Shape.prototype._update.apply(this,arguments),this},flagReset:function(){return this._flagVertices=this._flagFill=this._flagStroke=this._flagLinewidth=this._flagOpacity=this._flagVisible=this._flagCap=this._flagJoin=this._flagMiter=this._flagClip=!1,t.Shape.prototype.flagReset.call(this),this}}),f.MakeObservable(f.prototype)}((void 0===t?self||window:t).Two),function(t){var e=t.Path,i=t.Utils,r=t.Line=function(i,r,s,n){e.call(this,[new t.Anchor(i,r),new t.Anchor(s,n)]),this.vertices[0].command=t.Commands.move,this.vertices[1].command=t.Commands.line,this.automatic=!1};i.extend(r.prototype,e.prototype),r.prototype.constructor=r,e.MakeObservable(r.prototype)}((void 0===t?self||window:t).Two),function(t){var e=t.Path,i=t.Utils,r=t.Rectangle=function(i,r,s,n){e.call(this,[new t.Anchor,new t.Anchor,new t.Anchor,new t.Anchor],!0,!1,!0),this.width=s,this.height=n,this.origin=new t.Vector,this.translation.set(i,r),this._update()};i.extend(r,{Properties:[\"width\",\"height\"],MakeObservable:function(s){e.MakeObservable(s),i.each(r.Properties,t.Utils.defineProperty,s),Object.defineProperty(s,\"origin\",{enumerable:!0,get:function(){return this._origin},set:function(e){this._origin&&this._origin.unbind(t.Events.change,this._renderer.flagVertices),this._origin=e,this._origin.bind(t.Events.change,this._renderer.flagVertices),this._renderer.flagVertices()}})}}),i.extend(r.prototype,e.prototype,{_flagWidth:0,_flagHeight:0,_width:0,_height:0,_origin:null,constructor:r,_update:function(){if(this._flagWidth||this._flagHeight){var i=this._width/2,r=this._height/2;this.vertices[0].set(-i,-r).add(this._origin).command=t.Commands.move,this.vertices[1].set(i,-r).add(this._origin).command=t.Commands.line,this.vertices[2].set(i,r).add(this._origin).command=t.Commands.line,this.vertices[3].set(-i,r).add(this._origin).command=t.Commands.line,this.vertices[4]&&(this.vertices[4].set(-i,-r).add(this._origin).command=t.Commands.line)}return e.prototype._update.call(this),this},flagReset:function(){return this._flagWidth=this._flagHeight=!1,e.prototype.flagReset.call(this),this},clone:function(e){var s=new r(0,0,this.width,this.height);return s.translation.copy(this.translation),s.rotation=this.rotation,s.scale=this.scale,this.matrix.manual&&s.matrix.copy(this.matrix),i.each(t.Path.Properties,function(t){s[t]=this[t]},this),e&&e.add(s),s},toObject:function(){var t=e.prototype.toObject.call(this);return t.width=this.width,t.height=this.height,t.origin=this.origin.toObject(),t}}),r.MakeObservable(r.prototype)}((void 0===t?self||window:t).Two),function(t){var e=t.Path,i=o/2,r=f,n=u,a=t.Utils,l=t.Ellipse=function(i,r,s,n,o){a.isNumber(n)||(n=s);var l=o?_(o,2):4,h=a.map(a.range(l),function(){return new t.Anchor},this);e.call(this,h,!0,!0,!0),this.width=2*s,this.height=2*n,this._update(),this.translation.set(i,r)};a.extend(l,{Properties:[\"width\",\"height\"],MakeObservable:function(i){e.MakeObservable(i),a.each(l.Properties,t.Utils.defineProperty,i)}}),a.extend(l.prototype,e.prototype,{_flagWidth:!1,_flagHeight:!1,_width:0,_height:0,constructor:l,_update:function(){if(this._flagWidth||this._flagHeight)for(var a=4/3*s(o/(2*this.vertices.length)),l=this._width/2,h=this._height/2,c=0,d=this.vertices.length;c<d;c++){var f=c/d*(2*o),u=l*r(f),_=h*n(f),g=l*a*r(f-i),p=h*a*n(f-i),m=l*a*r(f+i),v=h*a*n(f+i),y=this.vertices[c];y.command=t.Commands.curve,y.set(u,_),y.controls.left.set(g,p),y.controls.right.set(m,v)}return e.prototype._update.call(this),this},flagReset:function(){return this._flagWidth=this._flagHeight=!1,e.prototype.flagReset.call(this),this},clone:function(e){var i=this.width/2,r=this.height/2,s=this.vertices.length,n=new l(0,0,i,r,s);return n.translation.copy(this.translation),n.rotation=this.rotation,n.scale=this.scale,this.matrix.manual&&n.matrix.copy(this.matrix),a.each(t.Path.Properties,function(t){n[t]=this[t]},this),e&&e.add(n),n},toObject:function(){var t=e.prototype.toObject.call(this);return a.each(l.Properties,function(e){t[e]=this[e]},this),t}}),l.MakeObservable(l.prototype)}((void 0===t?self||window:t).Two),function(t){var e=t.Path,i=o/2,r=f,n=u,a=t.Utils,l=t.Circle=function(i,r,s,n){var o=n?_(n,2):4,l=a.map(a.range(o),function(){return new t.Anchor},this);e.call(this,l,!0,!0,!0),this.radius=s,this._update(),a.isNumber(i)&&(this.translation.x=i),a.isNumber(r)&&(this.translation.y=r)};a.extend(l,{Properties:[\"radius\"],MakeObservable:function(i){e.MakeObservable(i),a.each(l.Properties,t.Utils.defineProperty,i)}}),a.extend(l.prototype,e.prototype,{_flagRadius:!1,_radius:0,constructor:l,_update:function(){if(this._flagRadius)for(var a=4/3*s(o/(2*this.vertices.length)),l=this._radius,h=l*a,c=0,d=this.vertices.length;c<d;c++){var f=c/d*(2*o),u=l*r(f),_=l*n(f),g=h*r(f-i),p=h*n(f-i),m=h*r(f+i),v=h*n(f+i),y=this.vertices[c];y.command=t.Commands.curve,y.set(u,_),y.controls.left.set(g,p),y.controls.right.set(m,v)}return e.prototype._update.call(this),this},flagReset:function(){return this._flagRadius=!1,e.prototype.flagReset.call(this),this},clone:function(e){var i=new l(0,0,this.radius,this.vertices.length);return i.translation.copy(this.translation),i.rotation=this.rotation,i.scale=this.scale,this.matrix.manual&&i.matrix.copy(this.matrix),a.each(t.Path.Properties,function(t){i[t]=this[t]},this),e&&e.add(i),i},toObject:function(){var t=e.prototype.toObject.call(this);return a.each(l.Properties,function(e){t[e]=this[e]},this),t}}),l.MakeObservable(l.prototype)}((void 0===t?self||window:t).Two),function(t){var e=t.Path,i=t.Utils,r=t.Polygon=function(t,i,r,s){s=_(s||0,3),e.call(this),this.closed=!0,this.automatic=!1,this.width=2*r,this.height=2*r,this.sides=s,this._update(),this.translation.set(t,i)};i.extend(r,{Properties:[\"width\",\"height\",\"sides\"],MakeObservable:function(s){e.MakeObservable(s),i.each(r.Properties,t.Utils.defineProperty,s)}}),i.extend(r.prototype,e.prototype,{_flagWidth:!1,_flagHeight:!1,_flagSides:!1,_width:0,_height:0,_sides:0,constructor:r,_update:function(){if(this._flagWidth||this._flagHeight||this._flagSides){var i=this._sides,r=this.vertices.length;r>i&&(this.vertices.splice(i-1,r-i),r=i);for(var s=0;s<i+1;s++){var n=2*o*((s+.5)/i)+o/2,a=this._width*f(n)/2,l=this._height*u(n)/2;s>=r?this.vertices.push(new t.Anchor(a,l)):this.vertices[s].set(a,l),this.vertices[s].command=0===s?t.Commands.move:t.Commands.line}}return e.prototype._update.call(this),this},flagReset:function(){return this._flagWidth=this._flagHeight=this._flagSides=!1,e.prototype.flagReset.call(this),this},clone:function(e){var s=new r(0,0,this.radius,this.sides);return s.translation.copy(this.translation),s.rotation=this.rotation,s.scale=this.scale,this.matrix.manual&&s.matrix.copy(this.matrix),i.each(t.Path.Properties,function(t){s[t]=this[t]},this),e&&e.add(s),s},toObject:function(){var t=e.prototype.toObject.call(this);return i.each(r.Properties,function(e){t[e]=this[e]},this),t}}),r.MakeObservable(r.prototype)}((void 0===t?self||window:t).Two),function(t){var e=t.Path,i=2*o,r=o/2,s=t.Utils,n=t.Utils.mod,a=t.ArcSegment=function(i,r,n,a,o,l,h){var c=h||3*t.Resolution,d=s.map(s.range(c),function(){return new t.Anchor});e.call(this,d,!0,!1,!0),this.innerRadius=n,this.outerRadius=a,this.startAngle=o,this.endAngle=l,this._update(),s.isNumber(i)&&(this.translation.x=i),s.isNumber(r)&&(this.translation.y=r)};s.extend(a,{Properties:[\"startAngle\",\"endAngle\",\"innerRadius\",\"outerRadius\"],MakeObservable:function(i){e.MakeObservable(i),s.each(a.Properties,t.Utils.defineProperty,i)}}),s.extend(a.prototype,e.prototype,{_flagStartAngle:!1,_flagEndAngle:!1,_flagInnerRadius:!1,_flagOuterRadius:!1,_startAngle:0,_endAngle:i,_innerRadius:0,_outerRadius:0,constructor:a,_update:function(){if(this._flagStartAngle||this._flagEndAngle||this._flagInnerRadius||this._flagOuterRadius){var s,a=this._startAngle,l=this._endAngle,h=this._innerRadius,c=this._outerRadius,d=n(a,i)===n(l,i),_=0<h,g=this.vertices,p=_?g.length/2:g.length,m=0;d?p--:!_&&(p-=2);for(var v=0,y=p-1;v<p;v++){var x=v/y,b=g[m],w=x*(l-a)+a,k=(l-a)/p,S=c*f(w),A=c*u(w);if(s=0===v?t.Commands.move:t.Commands.curve,b.command=s,b.x=S,b.y=A,b.controls.left.clear(),b.controls.right.clear(),b.command===t.Commands.curve){var E=c*k/o;b.controls.left.x=E*f(w-r),b.controls.left.y=E*u(w-r),b.controls.right.x=E*f(w+r),b.controls.right.y=E*u(w+r),1===v&&b.controls.left.multiplyScalar(2),v===y&&b.controls.right.multiplyScalar(2)}m++}if(_){for(d?(g[m].command=t.Commands.close,m++):y=--p-1,v=0;v<p;v++)x=v/y,b=g[m],k=(l-a)/p,S=h*f(w=(1-x)*(l-a)+a),A=h*u(w),s=t.Commands.curve,0>=v&&(s=d?t.Commands.move:t.Commands.line),b.command=s,b.x=S,b.y=A,b.controls.left.clear(),b.controls.right.clear(),b.command===t.Commands.curve&&(E=h*k/o,b.controls.left.x=E*f(w+r),b.controls.left.y=E*u(w+r),b.controls.right.x=E*f(w-r),b.controls.right.y=E*u(w-r),1===v&&b.controls.left.multiplyScalar(2),v===y&&b.controls.right.multiplyScalar(2)),m++;g[m].copy(g[0]),g[m].command=t.Commands.line}else d||(g[m].command=t.Commands.line,g[m].x=0,g[m].y=0,g[++m].copy(g[0]),g[m].command=t.Commands.line)}return e.prototype._update.call(this),this},flagReset:function(){return e.prototype.flagReset.call(this),this._flagStartAngle=this._flagEndAngle=this._flagInnerRadius=this._flagOuterRadius=!1,this},clone:function(e){var i=this.innerRadius,r=this.outerradius,n=this.startAngle,o=this.endAngle,l=this.vertices.length,h=new a(0,0,i,r,n,o,l);return h.translation.copy(this.translation),h.rotation=this.rotation,h.scale=this.scale,this.matrix.manual&&h.matrix.copy(this.matrix),s.each(t.Path.Properties,function(t){h[t]=this[t]},this),e&&e.add(h),h},toObject:function(){var t=e.prototype.toObject.call(this);return s.each(a.Properties,function(e){t[e]=this[e]},this),t}}),a.MakeObservable(a.prototype)}((void 0===t?self||window:t).Two),function(t){var e=t.Path,i=t.Utils,r=t.Star=function(t,r,s,n,a){3>=arguments.length&&(s=(n=s)/2),(!i.isNumber(a)||0>=a)&&(a=5),e.call(this),this.closed=!0,this.automatic=!1,this.innerRadius=s,this.outerRadius=n,this.sides=a,this._update(),this.translation.set(t,r)};i.extend(r,{Properties:[\"innerRadius\",\"outerRadius\",\"sides\"],MakeObservable:function(s){e.MakeObservable(s),i.each(r.Properties,t.Utils.defineProperty,s)}}),i.extend(r.prototype,e.prototype,{_flagInnerRadius:!1,_flagOuterRadius:!1,_flagSides:!1,_innerRadius:0,_outerRadius:0,_sides:0,constructor:r,_update:function(){if(this._flagInnerRadius||this._flagOuterRadius||this._flagSides){var i=2*this._sides,r=this.vertices.length;r>i&&(this.vertices.splice(i-1,r-i),r=i);for(var s=0;s<i+1;s++){var n=2*o*((s+.5)/i),a=(s%2?this._outerRadius:this._innerRadius)/2,l=a*f(n),h=a*u(n);s>=r?this.vertices.push(new t.Anchor(l,h)):this.vertices[s].set(l,h),this.vertices[s].command=0===s?t.Commands.move:t.Commands.line}}return e.prototype._update.call(this),this},flagReset:function(){return this._flagInnerRadius=this._flagOuterRadius=this._flagSides=!1,e.prototype.flagReset.call(this),this},clone:function(e){var s=this.innerRadius,n=this.outerRadius,a=this.sides,o=new r(0,0,s,n,a);return o.translation.copy(this.translation),o.rotation=this.rotation,o.scale=this.scale,this.matrix.manual&&o.matrix.copy(this.matrix),i.each(t.Path.Properties,function(t){o[t]=this[t]},this),e&&e.add(o),o},toObject:function(){var t=e.prototype.toObject.call(this);return i.each(r.Properties,function(e){t[e]=this[e]},this),t}}),r.MakeObservable(r.prototype)}((void 0===t?self||window:t).Two),function(t){var e=t.Path,i=t.Utils,r=t.RoundedRectangle=function(s,o,l,h,c){i.isUndefined(c)&&(c=n(a(l,h)/12));var d=i.map(i.range(10),function(e){return new t.Anchor(0,0,0,0,0,0,0===e?t.Commands.move:t.Commands.curve)});e.call(this,d),this.closed=!0,this.automatic=!1,this._renderer.flagRadius=i.bind(r.FlagRadius,this),this.width=l,this.height=h,this.radius=c,this._update(),this.translation.set(s,o)};i.extend(r,{Properties:[\"width\",\"height\"],FlagRadius:function(){this._flagRadius=!0},MakeObservable:function(s){e.MakeObservable(s),i.each(r.Properties,t.Utils.defineProperty,s),Object.defineProperty(s,\"radius\",{enumerable:!0,get:function(){return this._radius},set:function(e){this._radius instanceof t.Vector&&this._radius.unbind(t.Events.change,this._renderer.flagRadius),this._radius=e,this._radius instanceof t.Vector&&this._radius.bind(t.Events.change,this._renderer.flagRadius),this._flagRadius=!0}})}}),i.extend(r.prototype,e.prototype,{_flagWidth:!1,_flagHeight:!1,_flagRadius:!1,_width:0,_height:0,_radius:0,constructor:r,_update:function(){if(this._flagWidth||this._flagHeight||this._flagRadius){var i,r,s=this._width,n=this._height;this._radius instanceof t.Vector?(i=this._radius.x,r=this._radius.y):(i=this._radius,r=this._radius);var a,o=s/2,l=n/2;(a=this.vertices[0]).x=-(o-i),a.y=-l,(a=this.vertices[1]).x=o-i,a.y=-l,a.controls.left.clear(),a.controls.right.x=i,a.controls.right.y=0,(a=this.vertices[2]).x=o,a.y=-(l-r),a.controls.right.clear(),a.controls.left.clear(),(a=this.vertices[3]).x=o,a.y=l-r,a.controls.left.clear(),a.controls.right.x=0,a.controls.right.y=r,(a=this.vertices[4]).x=o-i,a.y=l,a.controls.right.clear(),a.controls.left.clear(),(a=this.vertices[5]).x=-(o-i),a.y=l,a.controls.left.clear(),a.controls.right.x=-i,a.controls.right.y=0,(a=this.vertices[6]).x=-o,a.y=l-r,a.controls.left.clear(),a.controls.right.clear(),(a=this.vertices[7]).x=-o,a.y=-(l-r),a.controls.left.clear(),a.controls.right.x=0,a.controls.right.y=-r,(a=this.vertices[8]).x=-(o-i),a.y=-l,a.controls.left.clear(),a.controls.right.clear(),(a=this.vertices[9]).copy(this.vertices[8])}return e.prototype._update.call(this),this},flagReset:function(){return this._flagWidth=this._flagHeight=this._flagRadius=!1,e.prototype.flagReset.call(this),this},clone:function(e){var s=this.width,n=this.height,a=this.radius,o=new r(0,0,s,n,a);return o.translation.copy(this.translation),o.rotation=this.rotation,o.scale=this.scale,this.matrix.manual&&o.matrix.copy(this.matrix),i.each(t.Path.Properties,function(t){o[t]=this[t]},this),e&&e.add(o),o},toObject:function(){var t=e.prototype.toObject.call(this);return i.each(r.Properties,function(e){t[e]=this[e]},this),t.radius=i.isNumber(this.radius)?this.radius:this.radius.toObject(),t}}),r.MakeObservable(r.prototype)}((void 0===t?self||window:t).Two),function(t){t.root;var e=t.Utils.getComputedMatrix,i=t.Utils,r=t.Text=function(e,r,s,n){return t.Shape.call(this),this._renderer.type=\"text\",this._renderer.flagFill=i.bind(t.Text.FlagFill,this),this._renderer.flagStroke=i.bind(t.Text.FlagStroke,this),this.value=e,i.isNumber(r)&&(this.translation.x=r),i.isNumber(s)&&(this.translation.y=s),this.dashes=[],this.dashes.offset=0,i.isObject(n)?void i.each(t.Text.Properties,function(t){t in n&&(this[t]=n[t])},this):this};i.extend(t.Text,{Ratio:.6,Properties:[\"value\",\"family\",\"size\",\"leading\",\"alignment\",\"linewidth\",\"style\",\"className\",\"weight\",\"decoration\",\"baseline\",\"opacity\",\"visible\",\"fill\",\"stroke\"],FlagFill:function(){this._flagFill=!0},FlagStroke:function(){this._flagStroke=!0},MakeObservable:function(e){t.Shape.MakeObservable(e),i.each(t.Text.Properties.slice(0,13),t.Utils.defineProperty,e),Object.defineProperty(e,\"fill\",{enumerable:!0,get:function(){return this._fill},set:function(e){(this._fill instanceof t.Gradient||this._fill instanceof t.LinearGradient||this._fill instanceof t.RadialGradient||this._fill instanceof t.Texture)&&this._fill.unbind(t.Events.change,this._renderer.flagFill),this._fill=e,this._flagFill=!0,(this._fill instanceof t.Gradient||this._fill instanceof t.LinearGradient||this._fill instanceof t.RadialGradient||this._fill instanceof t.Texture)&&this._fill.bind(t.Events.change,this._renderer.flagFill)}}),Object.defineProperty(e,\"stroke\",{enumerable:!0,get:function(){return this._stroke},set:function(e){(this._stroke instanceof t.Gradient||this._stroke instanceof t.LinearGradient||this._stroke instanceof t.RadialGradient||this._stroke instanceof t.Texture)&&this._stroke.unbind(t.Events.change,this._renderer.flagStroke),this._stroke=e,this._flagStroke=!0,(this._stroke instanceof t.Gradient||this._stroke instanceof t.LinearGradient||this._stroke instanceof t.RadialGradient||this._stroke instanceof t.Texture)&&this._stroke.bind(t.Events.change,this._renderer.flagStroke)}}),Object.defineProperty(e,\"clip\",{enumerable:!0,get:function(){return this._clip},set:function(t){this._clip=t,this._flagClip=!0}}),Object.defineProperty(e,\"dashes\",{enumerable:!0,get:function(){return this._dashes},set:function(t){i.isNumber(t.offset)||(t.offset=this._dashes.offset||0),this._dashes=t}})}}),i.extend(t.Text.prototype,t.Shape.prototype,{_flagValue:!0,_flagFamily:!0,_flagSize:!0,_flagLeading:!0,_flagAlignment:!0,_flagBaseline:!0,_flagStyle:!0,_flagWeight:!0,_flagDecoration:!0,_flagFill:!0,_flagStroke:!0,_flagLinewidth:!0,_flagOpacity:!0,_flagClassName:!0,_flagVisible:!0,_flagClip:!1,_value:\"\",_family:\"sans-serif\",_size:13,_leading:17,_alignment:\"center\",_baseline:\"middle\",_style:\"normal\",_weight:500,_decoration:\"none\",_fill:\"#000\",_stroke:\"transparent\",_linewidth:1,_opacity:1,_className:\"\",_visible:!0,_clip:!1,_dashes:[],constructor:t.Text,remove:function(){return this.parent?(this.parent.remove(this),this):this},clone:function(e){var r=new t.Text(this.value);return r.translation.copy(this.translation),r.rotation=this.rotation,r.scale=this.scale,i.each(t.Text.Properties,function(t){r[t]=this[t]},this),this.matrix.manual&&r.matrix.copy(this.matrix),e&&e.add(r),r._update()},toObject:function(){var e={translation:this.translation.toObject(),rotation:this.rotation,scale:this.scale};return this.matrix.manual&&(e.matrix=this.matrix.toObject()),i.each(t.Text.Properties,function(t){e[t]=this[t]},this),e},noFill:function(){return this.fill=\"transparent\",this},noStroke:function(){return this.stroke=void 0,this.linewidth=void 0,this},getBoundingClientRect:function(t){var i,s,n,a,o,l;this._update(!0),i=t?this._matrix:e(this);var h=this.leading,c=this.value.length*this.size*r.Ratio;switch(this.alignment){case\"left\":n=0,a=c;break;case\"right\":n=-c,a=0;break;default:n=-c/2,a=c/2}switch(this.baseline){case\"top\":o=0,l=h;break;case\"bottom\":o=-h,l=0;break;default:o=-h/2,l=h/2}return{top:o=(s=i.multiply(n,o,1)).y,left:n=s.x,right:a=(s=i.multiply(a,l,1)).x,bottom:l=s.y,width:a-n,height:l-o}},flagReset:function(){return this._flagValue=this._flagFamily=this._flagSize=this._flagLeading=this._flagAlignment=this._flagFill=this._flagStroke=this._flagLinewidth=this._flagOpacity=this._flagVisible=this._flagClip=this._flagDecoration=this._flagClassName=this._flagBaseline=!1,t.Shape.prototype.flagReset.call(this),this}}),t.Text.MakeObservable(t.Text.prototype)}((void 0===t?self||window:t).Two),function(t){var e=t.Utils,i=t.Stop=function(t,r,s){this._renderer={},this._renderer.type=\"stop\",this.offset=e.isNumber(t)?t:0>=i.Index?0:1,this.opacity=e.isNumber(s)?s:1,this.color=e.isString(r)?r:0>=i.Index?\"#fff\":\"#000\",i.Index=(i.Index+1)%2};e.extend(i,{Index:0,Properties:[\"offset\",\"opacity\",\"color\"],MakeObservable:function(t){e.each(i.Properties,function(t){var e=\"_\"+t,i=\"_flag\"+t.charAt(0).toUpperCase()+t.slice(1);Object.defineProperty(this,t,{enumerable:!0,get:function(){return this[e]},set:function(t){this[e]=t,this[i]=!0,this.parent&&(this.parent._flagStops=!0)}})},t)}}),e.extend(i.prototype,t.Utils.Events,{constructor:i,clone:function(){var t=new i;return e.each(i.Properties,function(e){t[e]=this[e]},this),t},toObject:function(){var t={};return e.each(i.Properties,function(e){t[e]=this[e]},this),t},flagReset:function(){return this._flagOffset=this._flagColor=this._flagOpacity=!1,this}}),i.MakeObservable(i.prototype),i.prototype.constructor=i;var r=t.Gradient=function(i){this._renderer={},this._renderer.type=\"gradient\",this.id=t.Identifier+t.uniqueId(),this.classList=[],this._renderer.flagStops=e.bind(r.FlagStops,this),this._renderer.bindStops=e.bind(r.BindStops,this),this._renderer.unbindStops=e.bind(r.UnbindStops,this),this.spread=\"pad\",this.stops=i};e.extend(r,{Stop:i,Properties:[\"spread\"],MakeObservable:function(i){e.each(r.Properties,t.Utils.defineProperty,i),Object.defineProperty(i,\"stops\",{enumerable:!0,get:function(){return this._stops},set:function(e){this._renderer.flagStops;var i=this._renderer.bindStops,r=this._renderer.unbindStops;this._stops&&this._stops.unbind(t.Events.insert,i).unbind(t.Events.remove,r),this._stops=new t.Utils.Collection((e||[]).slice(0)),this._stops.bind(t.Events.insert,i).bind(t.Events.remove,r),i(this._stops)}})},FlagStops:function(){this._flagStops=!0},BindStops:function(e){for(var i=e.length;i--;)e[i].bind(t.Events.change,this._renderer.flagStops),e[i].parent=this;this._renderer.flagStops()},UnbindStops:function(e){for(var i=e.length;i--;)e[i].unbind(t.Events.change,this._renderer.flagStops),delete e[i].parent;this._renderer.flagStops()}}),e.extend(r.prototype,t.Utils.Events,{_flagStops:!1,_flagSpread:!1,clone:function(i){var s=e.map(this.stops,function(t){return t.clone()}),n=new r(s);return e.each(t.Gradient.Properties,function(t){n[t]=this[t]},this),i&&i.add(n),n},toObject:function(){var t={stops:e.map(this.stops,function(t){return t.toObject()})};return e.each(r.Properties,function(e){t[e]=this[e]},this),t},_update:function(){return(this._flagSpread||this._flagStops)&&this.trigger(t.Events.change),this},flagReset:function(){return this._flagSpread=this._flagStops=!1,this}}),r.MakeObservable(r.prototype)}((void 0===t?self||window:t).Two),function(t){var e=t.Utils,i=t.LinearGradient=function(r,s,n,a,o){t.Gradient.call(this,o),this._renderer.type=\"linear-gradient\";var l=e.bind(i.FlagEndPoints,this);this.left=(new t.Vector).bind(t.Events.change,l),this.right=(new t.Vector).bind(t.Events.change,l),e.isNumber(r)&&(this.left.x=r),e.isNumber(s)&&(this.left.y=s),e.isNumber(n)&&(this.right.x=n),e.isNumber(a)&&(this.right.y=a)};e.extend(i,{Stop:t.Gradient.Stop,MakeObservable:function(e){t.Gradient.MakeObservable(e)},FlagEndPoints:function(){this._flagEndPoints=!0}}),e.extend(i.prototype,t.Gradient.prototype,{_flagEndPoints:!1,constructor:i,clone:function(r){var s=e.map(this.stops,function(t){return t.clone()}),n=new i(this.left._x,this.left._y,this.right._x,this.right._y,s);return e.each(t.Gradient.Properties,function(t){n[t]=this[t]},this),r&&r.add(n),n},toObject:function(){var e=t.Gradient.prototype.toObject.call(this);return e.left=this.left.toObject(),e.right=this.right.toObject(),e},_update:function(){return(this._flagEndPoints||this._flagSpread||this._flagStops)&&this.trigger(t.Events.change),this},flagReset:function(){return this._flagEndPoints=!1,t.Gradient.prototype.flagReset.call(this),this}}),i.MakeObservable(i.prototype)}((void 0===t?self||window:t).Two),function(t){var e=t.Utils,i=t.RadialGradient=function(i,r,s,n,a,o){t.Gradient.call(this,n),this._renderer.type=\"radial-gradient\",this.center=(new t.Vector).bind(t.Events.change,e.bind(function(){this._flagCenter=!0},this)),this.radius=e.isNumber(s)?s:20,this.focal=(new t.Vector).bind(t.Events.change,e.bind(function(){this._flagFocal=!0},this)),e.isNumber(i)&&(this.center.x=i),e.isNumber(r)&&(this.center.y=r),this.focal.copy(this.center),e.isNumber(a)&&(this.focal.x=a),e.isNumber(o)&&(this.focal.y=o)};e.extend(i,{Stop:t.Gradient.Stop,Properties:[\"radius\"],MakeObservable:function(r){t.Gradient.MakeObservable(r),e.each(i.Properties,t.Utils.defineProperty,r)}}),e.extend(i.prototype,t.Gradient.prototype,{_flagRadius:!1,_flagCenter:!1,_flagFocal:!1,constructor:i,clone:function(r){var s=e.map(this.stops,function(t){return t.clone()}),n=new i(this.center._x,this.center._y,this._radius,s,this.focal._x,this.focal._y);return e.each(t.Gradient.Properties.concat(i.Properties),function(t){n[t]=this[t]},this),r&&r.add(n),n},toObject:function(){var r=t.Gradient.prototype.toObject.call(this);return e.each(i.Properties,function(t){r[t]=this[t]},this),r.center=this.center.toObject(),r.focal=this.focal.toObject(),r},_update:function(){return(this._flagRadius||this._flatCenter||this._flagFocal||this._flagSpread||this._flagStops)&&this.trigger(t.Events.change),this},flagReset:function(){return this._flagRadius=this._flagCenter=this._flagFocal=!1,t.Gradient.prototype.flagReset.call(this),this}}),i.MakeObservable(i.prototype)}((void 0===t?self||window:t).Two),function(t){var e,i=t.root,r=t.Utils,s={video:/\\.(mp4|webm|ogg)$/i,image:/\\.(jpe?g|png|gif|tiff|webp)$/i,effect:/texture|gradient/i};i.document&&(e=document.createElement(\"a\"));var n=t.Texture=function(e,i){if(this._renderer={},this._renderer.type=\"texture\",this._renderer.flagOffset=r.bind(n.FlagOffset,this),this._renderer.flagScale=r.bind(n.FlagScale,this),this.id=t.Identifier+t.uniqueId(),this.classList=[],this.loaded=!1,this.repeat=\"no-repeat\",this.offset=new t.Vector,r.isFunction(i)){var s=r.bind(function(){this.unbind(t.Events.load,s),r.isFunction(i)&&i()},this);this.bind(t.Events.load,s)}r.isString(e)?this.src=e:r.isElement(e)&&(this.image=e),this._update()};r.extend(n,{Properties:[\"src\",\"loaded\",\"repeat\"],RegularExpressions:s,ImageRegistry:new t.Registry,getAbsoluteURL:function(t){return e?(e.href=t,e.href):t},loadHeadlessBuffer:new Function(\"texture\",\"loaded\",'var fs = require(\"fs\");\\nvar buffer = fs.readFileSync(texture.src);\\ntexture.image.src = buffer;\\nloaded();'),getImage:function(e){var r,a=n.getAbsoluteURL(e);return n.ImageRegistry.contains(a)?n.ImageRegistry.get(a):(t.Utils.Image?(r=new t.Utils.Image,t.CanvasRenderer.Utils.shim(r,\"img\")):i.document?r=s.video.test(a)?document.createElement(\"video\"):document.createElement(\"img\"):console.warn(\"Two.js: no prototypical image defined for Two.Texture\"),r.crossOrigin=\"anonymous\",r)},Register:{canvas:function(t,e){t._src=\"#\"+t.id,n.ImageRegistry.add(t.src,t.image),r.isFunction(e)&&e()},img:function(e,i){var s=function(){r.isFunction(e.image.removeEventListener)&&(e.image.removeEventListener(\"load\",s,!1),e.image.removeEventListener(\"error\",a,!1)),r.isFunction(i)&&i()},a=function(){throw r.isFunction(e.image.removeEventListener)&&(e.image.removeEventListener(\"load\",s,!1),e.image.removeEventListener(\"error\",a,!1)),new t.Utils.Error(\"unable to load \"+e.src)};r.isNumber(e.image.width)&&0<e.image.width&&r.isNumber(e.image.height)&&0<e.image.height?s():r.isFunction(e.image.addEventListener)&&(e.image.addEventListener(\"load\",s,!1),e.image.addEventListener(\"error\",a,!1)),e._src=n.getAbsoluteURL(e._src),e.image&&e.image.getAttribute(\"two-src\")||(e.image.setAttribute(\"two-src\",e.src),n.ImageRegistry.add(e.src,e.image),t.Utils.isHeadless?n.loadHeadlessBuffer(e,s):e.image.src=e.src)},video:function(e,i){var s=function(){e.image.removeEventListener(\"canplaythrough\",s,!1),e.image.removeEventListener(\"error\",a,!1),e.image.width=e.image.videoWidth,e.image.height=e.image.videoHeight,e.image.play(),r.isFunction(i)&&i()},a=function(){throw e.image.removeEventListener(\"canplaythrough\",s,!1),e.image.removeEventListener(\"error\",a,!1),new t.Utils.Error(\"unable to load \"+e.src)};if(e._src=n.getAbsoluteURL(e._src),e.image.addEventListener(\"canplaythrough\",s,!1),e.image.addEventListener(\"error\",a,!1),!e.image||!e.image.getAttribute(\"two-src\")){if(t.Utils.isHeadless)throw new t.Utils.Error(\"video textures are not implemented in headless environments.\");e.image.setAttribute(\"two-src\",e.src),n.ImageRegistry.add(e.src,e.image),e.image.src=e.src,e.image.loop=!0,e.image.load()}}},load:function(t,e){t.src;var i=t.image,r=i&&i.nodeName.toLowerCase();t._flagImage&&(/canvas/i.test(r)?n.Register.canvas(t,e):(t._src=i.getAttribute(\"two-src\")||i.src,n.Register[r](t,e))),t._flagSrc&&(!i&&(t.image=n.getImage(t.src)),r=t.image.nodeName.toLowerCase(),n.Register[r](t,e))},FlagOffset:function(){this._flagOffset=!0},FlagScale:function(){this._flagScale=!0},MakeObservable:function(e){r.each(n.Properties,t.Utils.defineProperty,e),Object.defineProperty(e,\"image\",{enumerable:!0,get:function(){return this._image},set:function(t){var e;e=\"canvas\"===(t&&t.nodeName.toLowerCase())?\"#\"+t.id:t.src,this._image=n.ImageRegistry.contains(e)?n.ImageRegistry.get(t.src):t,this._flagImage=!0}}),Object.defineProperty(e,\"offset\",{enumerable:!0,get:function(){return this._offset},set:function(e){this._offset&&this._offset.unbind(t.Events.change,this._renderer.flagOffset),this._offset=e,this._offset.bind(t.Events.change,this._renderer.flagOffset),this._flagOffset=!0}}),Object.defineProperty(e,\"scale\",{enumerable:!0,get:function(){return this._scale},set:function(e){this._scale instanceof t.Vector&&this._scale.unbind(t.Events.change,this._renderer.flagScale),this._scale=e,this._scale instanceof t.Vector&&this._scale.bind(t.Events.change,this._renderer.flagScale),this._flagScale=!0}})}}),r.extend(n.prototype,t.Utils.Events,t.Shape.prototype,{_flagSrc:!1,_flagImage:!1,_flagVideo:!1,_flagLoaded:!1,_flagRepeat:!1,_flagOffset:!1,_flagScale:!1,_src:\"\",_image:null,_loaded:!1,_repeat:\"no-repeat\",_scale:1,_offset:null,constructor:n,clone:function(){var t=new n(this.src);return t.repeat=this.repeat,t.offset.copy(this.origin),t.scale=this.scale,t},toObject:function(){return{src:this.src,repeat:this.repeat,origin:this.origin.toObject(),scale:r.isNumber(this.scale)?this.scale:this.scale.toObject()}},_update:function(){return(this._flagSrc||this._flagImage)&&(this.trigger(t.Events.change),(this._flagSrc||this._flagImage)&&(this.loaded=!1,n.load(this,r.bind(function(){this.loaded=!0,this.trigger(t.Events.change).trigger(t.Events.load)},this)))),this._image&&4<=this._image.readyState&&(this._flagVideo=!0),this},flagReset:function(){return this._flagSrc=this._flagImage=this._flagLoaded=this._flagVideo=this._flagScale=this._flagOffset=!1,this}}),n.MakeObservable(n.prototype)}((void 0===t?self||window:t).Two),function(t){var e=t.Utils,i=t.Path,r=t.Rectangle,s=t.Sprite=function(r,s,n,a,o,l){i.call(this,[new t.Anchor,new t.Anchor,new t.Anchor,new t.Anchor],!0),this.noStroke(),this.noFill(),r instanceof t.Texture?this.texture=r:e.isString(r)&&(this.texture=new t.Texture(r)),this.origin=new t.Vector,this._update(),this.translation.set(s||0,n||0),e.isNumber(a)&&(this.columns=a),e.isNumber(o)&&(this.rows=o),e.isNumber(l)&&(this.frameRate=l),this.index=0};e.extend(s,{Properties:[\"texture\",\"columns\",\"rows\",\"frameRate\",\"index\"],MakeObservable:function(i){r.MakeObservable(i),e.each(s.Properties,t.Utils.defineProperty,i)}}),e.extend(s.prototype,r.prototype,{_flagTexture:!1,_flagColumns:!1,_flagRows:!1,_flagFrameRate:!1,flagIndex:!1,_amount:1,_duration:0,_startTime:0,_playing:!1,_firstFrame:0,_lastFrame:0,_loop:!0,_texture:null,_columns:1,_rows:1,_frameRate:0,_index:0,_origin:null,constructor:s,play:function(t,i,r){return this._playing=!0,this._firstFrame=0,this._lastFrame=this.amount-1,this._startTime=e.performance.now(),e.isNumber(t)&&(this._firstFrame=t),e.isNumber(i)&&(this._lastFrame=i),e.isFunction(r)?this._onLastFrame=r:delete this._onLastFrame,this._index!==this._firstFrame&&(this._startTime-=1e3*l(this._index-this._firstFrame)/this._frameRate),this},pause:function(){return this._playing=!1,this},stop:function(){return this._playing=!1,this._index=0,this},clone:function(t){var e=new s(this.texture,this.translation.x,this.translation.y,this.columns,this.rows,this.frameRate);return this.playing&&(e.play(this._firstFrame,this._lastFrame),e._loop=this._loop),t&&t.add(e),e},toObject:function(){var t=r.prototype.toObject.call(this);return t.texture=this.texture.toObject(),t.columns=this.columns,t.rows=this.rows,t.frameRate=this.frameRate,t.index=this.index,t._firstFrame=this._firstFrame,t._lastFrame=this._lastFrame,t._loop=this._loop,t},_update:function(){var t,i,s,o,l,h,c,d,f,u=this._texture,_=this._columns,g=this._rows;if((this._flagColumns||this._flagRows)&&(this._amount=this._columns*this._rows),this._flagFrameRate&&(this._duration=1e3*this._amount/this._frameRate),this._flagTexture&&(this.fill=this._texture),this._texture.loaded){t=(c=u.image.width)/_,i=(d=u.image.height)/g,o=this._amount,this.width!==t&&(this.width=t),this.height!==i&&(this.height=i),this._playing&&0<this._frameRate&&(e.isNaN(this._lastFrame)&&(this._lastFrame=o-1),s=e.performance.now()-this._startTime,l=1e3*((f=this._lastFrame+1)-this._firstFrame)/this._frameRate,this._loop?s%=l:s=a(s,l),h=e.lerp(this._firstFrame,f,s/l),(h=n(h))!==this._index&&(this._index=h,h>=this._lastFrame-1&&this._onLastFrame&&this._onLastFrame()));var p=-t*(this._index%_)+(c-t)/2,m=-i*n(this._index/_)+(d-i)/2;p!==u.offset.x&&(u.offset.x=p),m!==u.offset.y&&(u.offset.y=m)}return r.prototype._update.call(this),this},flagReset:function(){return this._flagTexture=this._flagColumns=this._flagRows=this._flagFrameRate=!1,r.prototype.flagReset.call(this),this}}),s.MakeObservable(s.prototype)}((void 0===t?self||window:t).Two),function(t){var e=t.Utils,i=t.Path,r=t.Rectangle,s=t.ImageSequence=function(r,n,a,o){i.call(this,[new t.Anchor,new t.Anchor,new t.Anchor,new t.Anchor],!0),this._renderer.flagTextures=e.bind(s.FlagTextures,this),this._renderer.bindTextures=e.bind(s.BindTextures,this),this._renderer.unbindTextures=e.bind(s.UnbindTextures,this),this.noStroke(),this.noFill(),this.textures=e.isObject(r)?e.map(r,s.GenerateTexture,this):[s.GenerateTexture(r)],this.origin=new t.Vector,this._update(),this.translation.set(n||0,a||0),this.frameRate=e.isNumber(o)?o:s.DefaultFrameRate,this.index=0};e.extend(s,{Properties:[\"frameRate\",\"index\"],DefaultFrameRate:30,FlagTextures:function(){this._flagTextures=!0},BindTextures:function(e){for(var i=e.length;i--;)e[i].bind(t.Events.change,this._renderer.flagTextures);this._renderer.flagTextures()},UnbindTextures:function(e){for(var i=e.length;i--;)e[i].unbind(t.Events.change,this._renderer.flagTextures);this._renderer.flagTextures()},MakeObservable:function(i){r.MakeObservable(i),e.each(s.Properties,t.Utils.defineProperty,i),Object.defineProperty(i,\"textures\",{enumerable:!0,get:function(){return this._textures},set:function(e){this._renderer.flagTextures;var i=this._renderer.bindTextures,r=this._renderer.unbindTextures;this._textures&&this._textures.unbind(t.Events.insert,i).unbind(t.Events.remove,r),this._textures=new t.Utils.Collection((e||[]).slice(0)),this._textures.bind(t.Events.insert,i).bind(t.Events.remove,r),i(this._textures)}})},GenerateTexture:function(i){return i instanceof t.Texture?i:e.isString(i)?new t.Texture(i):void 0}}),e.extend(s.prototype,r.prototype,{_flagTextures:!1,_flagFrameRate:!1,_flagIndex:!1,_amount:1,_duration:0,_index:0,_startTime:0,_playing:!1,_firstFrame:0,_lastFrame:0,_loop:!0,_textures:null,_frameRate:0,_origin:null,constructor:s,play:function(t,i,r){return this._playing=!0,this._firstFrame=0,this._lastFrame=this.amount-1,this._startTime=e.performance.now(),e.isNumber(t)&&(this._firstFrame=t),e.isNumber(i)&&(this._lastFrame=i),e.isFunction(r)?this._onLastFrame=r:delete this._onLastFrame,this._index!==this._firstFrame&&(this._startTime-=1e3*l(this._index-this._firstFrame)/this._frameRate),this},pause:function(){return this._playing=!1,this},stop:function(){return this._playing=!1,this._index=this._firstFrame,this},clone:function(t){var e=new s(this.textures,this.translation.x,this.translation.y,this.frameRate);return e._loop=this._loop,this._playing&&e.play(),t&&t.add(e),e},toObject:function(){var t=r.prototype.toObject.call(this);return t.textures=e.map(this.textures,function(t){return t.toObject()}),t.frameRate=this.frameRate,t.index=this.index,t._firstFrame=this._firstFrame,t._lastFrame=this._lastFrame,t._loop=this._loop,t},_update:function(){var i,s,o,l,h,c,d,f,u=this._textures;return this._flagTextures&&(this._amount=u.length),this._flagFrameRate&&(this._duration=1e3*this._amount/this._frameRate),this._playing&&0<this._frameRate?(l=this._amount,e.isNaN(this._lastFrame)&&(this._lastFrame=l-1),o=e.performance.now()-this._startTime,h=1e3*((f=this._lastFrame+1)-this._firstFrame)/this._frameRate,this._loop?o%=h:o=a(o,h),d=e.lerp(this._firstFrame,f,o/h),(d=n(d))!==this._index&&(this._index=d,(c=u[this._index]).loaded&&(i=c.image.width,s=c.image.height,this.width!==i&&(this.width=i),this.height!==s&&(this.height=s),this.fill=c,d>=this._lastFrame-1&&this._onLastFrame&&this._onLastFrame()))):(this._flagIndex||!(this.fill instanceof t.Texture))&&((c=u[this._index]).loaded&&(i=c.image.width,s=c.image.height,this.width!==i&&(this.width=i),this.height!==s&&(this.height=s)),this.fill=c),r.prototype._update.call(this),this},flagReset:function(){return this._flagTextures=this._flagFrameRate=!1,r.prototype.flagReset.call(this),this}}),s.MakeObservable(s.prototype)}((void 0===t?self||window:t).Two),function(t){function e(t,e){function i(){0<e.subtractions.length&&(0<=(n=s.indexOf(e.subtractions,t))&&e.subtractions.splice(n,1)),0<e.additions.length&&(0<=(n=s.indexOf(e.additions,t))&&e.additions.splice(n,1)),t.parent=e,e.additions.push(t),e._flagAdditions=!0}function r(){0<=(n=s.indexOf(a.additions,t))&&a.additions.splice(n,1),0>(n=s.indexOf(a.subtractions,t))&&(a.subtractions.push(t),a._flagSubtractions=!0)}var n,a=t.parent;return a===e?void i():(a&&a.children.ids[t.id]&&(n=s.indexOf(a.children,t),a.children.splice(n,1),r()),e?void i():(r(),a._flagAdditions&&0===a.additions.length&&(a._flagAdditions=!1),a._flagSubtractions&&0===a.subtractions.length&&(a._flagSubtractions=!1),void delete t.parent))}var i=a,r=_,s=t.Utils,n=function(){t.Utils.Collection.apply(this,arguments),Object.defineProperty(this,\"_events\",{value:{},enumerable:!1}),this.ids={},this.on(t.Events.insert,this.attach),this.on(t.Events.remove,this.detach),n.prototype.attach.apply(this,arguments)};n.prototype=new t.Utils.Collection,s.extend(n.prototype,{constructor:n,attach:function(t){for(var e=0;e<t.length;e++)this.ids[t[e].id]=t[e];return this},detach:function(t){for(var e=0;e<t.length;e++)delete this.ids[t[e].id];return this}});var o=t.Group=function(e){t.Shape.call(this,!0),this._renderer.type=\"group\",this.additions=[],this.subtractions=[],this.children=s.isArray(e)?e:arguments};s.extend(o,{Children:n,InsertChildren:function(t){for(var i=0;i<t.length;i++)e.call(this,t[i],this)},RemoveChildren:function(t){for(var i=0;i<t.length;i++)e.call(this,t[i])},OrderChildren:function(){this._flagOrder=!0},Properties:[\"fill\",\"stroke\",\"linewidth\",\"visible\",\"cap\",\"join\",\"miter\",\"closed\",\"curved\",\"automatic\"],MakeObservable:function(e){var i=t.Group.Properties;Object.defineProperty(e,\"opacity\",{enumerable:!0,get:function(){return this._opacity},set:function(t){this._flagOpacity=this._opacity!==t,this._opacity=t}}),Object.defineProperty(e,\"beginning\",{enumerable:!0,get:function(){return this._beginning},set:function(t){this._flagBeginning=this._beginning!==t,this._beginning=t}}),Object.defineProperty(e,\"ending\",{enumerable:!0,get:function(){return this._ending},set:function(t){this._flagEnding=this._ending!==t,this._ending=t}}),Object.defineProperty(e,\"length\",{enumerable:!0,get:function(){if(this._flagLength||0>=this._length){if(this._length=0,!this.children)return this._length;for(var t,e=0;e<this.children.length;e++)t=this.children[e],this._length+=t.length}return this._length}}),t.Shape.MakeObservable(e),o.MakeGetterSetters(e,i),Object.defineProperty(e,\"children\",{enumerable:!0,get:function(){return this._children},set:function(e){var i=s.bind(o.InsertChildren,this),r=s.bind(o.RemoveChildren,this),a=s.bind(o.OrderChildren,this);this._children&&this._children.unbind(),this._children=new n(e),this._children.bind(t.Events.insert,i),this._children.bind(t.Events.remove,r),this._children.bind(t.Events.order,a)}}),Object.defineProperty(e,\"mask\",{enumerable:!0,get:function(){return this._mask},set:function(t){this._mask=t,this._flagMask=!0,t.clip||(t.clip=!0)}})},MakeGetterSetters:function(t,e){s.isArray(e)||(e=[e]),s.each(e,function(e){o.MakeGetterSetter(t,e)})},MakeGetterSetter:function(t,e){var i=\"_\"+e;Object.defineProperty(t,e,{enumerable:!0,get:function(){return this[i]},set:function(t){this[i]=t;for(var r=0;r<this.children.length;r++)this.children[r][e]=t}})}}),s.extend(o.prototype,t.Shape.prototype,{_flagAdditions:!1,_flagSubtractions:!1,_flagOrder:!1,_flagOpacity:!0,_flagBeginning:!1,_flagEnding:!1,_flagLength:!1,_flagMask:!1,_fill:\"#fff\",_stroke:\"#000\",_linewidth:1,_opacity:1,_visible:!0,_cap:\"round\",_join:\"round\",_miter:4,_closed:!0,_curved:!1,_automatic:!0,_beginning:0,_ending:1,_length:0,_mask:null,constructor:o,clone:function(t){var e=new o,i=s.map(this.children,function(t){return t.clone()});return e.add(i),e.opacity=this.opacity,this.mask&&(e.mask=this.mask),e.translation.copy(this.translation),e.rotation=this.rotation,e.scale=this.scale,e.className=this.className,this.matrix.manual&&e.matrix.copy(this.matrix),t&&t.add(e),e._update()},toObject:function(){var e={children:[],translation:this.translation.toObject(),rotation:this.rotation,scale:this.scale instanceof t.Vector?this.scale.toObject():this.scale,opacity:this.opacity,className:this.className,mask:this.mask?this.mask.toObject():null};return this.matrix.manual&&(e.matrix=this.matrix.toObject()),s.each(this.children,function(t,i){e.children[i]=t.toObject()},this),e},corner:function(){var t=this.getBoundingClientRect(!0),e={x:t.left,y:t.top};return this.children.forEach(function(t){t.translation.sub(e)}),this},center:function(){var t=this.getBoundingClientRect(!0);return t.centroid={x:t.left+t.width/2-this.translation.x,y:t.top+t.height/2-this.translation.y},this.children.forEach(function(e){e.isShape&&e.translation.sub(t.centroid)}),this},getById:function(t){var e=null;return function i(r){if(r.id===t)return r;if(r.children)for(var s=0;s<r.children.length;s++)if(e=i(r.children[s]))return e;return null}(this)},getByClassName:function(t){var e=[];return function i(r){if(0<=s.indexOf(r.classList,t)&&e.push(r),r.children)for(var n=0;n<r.children.length;n++)i(r.children[n]);return e}(this)},getByType:function(t){var e=[];return function i(r){if(r instanceof t&&e.push(r),r.children)for(var s=0;s<r.children.length;s++)i(r.children[s]);return e}(this)},add:function(t){t=t instanceof Array?t.slice():s.toArray(arguments);for(var e,i=0;i<t.length;i++)if((e=t[i])&&e.id){var r=s.indexOf(this.children,e);0<=r&&this.children.splice(r,1),this.children.push(e)}return this},remove:function(t){var e=arguments.length,i=this.parent;if(0>=e&&i)return i.remove(this),this;t=t instanceof Array?t.slice():s.toArray(arguments);for(var r=0;r<t.length;r++)t[r]&&this.children.ids[t[r].id]&&this.children.splice(s.indexOf(this.children,t[r]),1);return this},getBoundingClientRect:function(e){var n;this._update(!0);for(var a,o=1/0,l=-1/0,h=1/0,c=-1/0,d=t.Texture.RegularExpressions.effect,f=0;f<this.children.length;f++)(a=this.children[f]).visible&&!d.test(a._renderer.type)&&(n=a.getBoundingClientRect(e),s.isNumber(n.top)&&s.isNumber(n.left)&&s.isNumber(n.right)&&s.isNumber(n.bottom))&&(h=i(n.top,h),o=i(n.left,o),l=r(n.right,l),c=r(n.bottom,c));return{top:h,left:o,right:l,bottom:c,width:l-o,height:c-h}},noFill:function(){return this.children.forEach(function(t){t.noFill()}),this},noStroke:function(){return this.children.forEach(function(t){t.noStroke()}),this},subdivide:function(){var t=arguments;return this.children.forEach(function(e){e.subdivide.apply(e,t)}),this},_update:function(){if(this._flagBeginning||this._flagEnding)for(var e=a(this._beginning,this._ending),i=_(this._beginning,this._ending),r=this.length,s=0,n=e*r,o=i*r,l=0;l<this.children.length;l++){var h=this.children[l],c=h.length;n>s+c?(h.beginning=1,h.ending=1):o<s?(h.beginning=0,h.ending=0):n>s&&n<s+c?(h.beginning=(n-s)/c,h.ending=1):o>s&&o<s+c?(h.beginning=0,h.ending=(o-s)/c):(h.beginning=0,h.ending=1),s+=c}return t.Shape.prototype._update.apply(this,arguments)},flagReset:function(){return this._flagAdditions&&(this.additions.length=0,this._flagAdditions=!1),this._flagSubtractions&&(this.subtractions.length=0,this._flagSubtractions=!1),this._flagOrder=this._flagMask=this._flagOpacity=this._flagBeginning=this._flagEnding=!1,t.Shape.prototype.flagReset.call(this),this}}),o.MakeObservable(o.prototype)}((void 0===t?self||window:t).Two),e.default=window.Two}.call(this,i(2),i(3)(t))},function(t){var e=function(){return this}();try{e=e||new Function(\"return this\")()}catch(t){\"object\"==typeof window&&(e=window)}t.exports=e},function(t){t.exports=function(t){if(!t.webpackPolyfill){var e=Object.create(t);e.children||(e.children=[]),Object.defineProperty(e,\"loaded\",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,\"id\",{enumerable:!0,get:function(){return e.i}}),Object.defineProperty(e,\"exports\",{enumerable:!0}),e.webpackPolyfill=1}return e}},function(t){(function(e){t.exports=e}).call(this,{})}]);","extractedComments":[]}