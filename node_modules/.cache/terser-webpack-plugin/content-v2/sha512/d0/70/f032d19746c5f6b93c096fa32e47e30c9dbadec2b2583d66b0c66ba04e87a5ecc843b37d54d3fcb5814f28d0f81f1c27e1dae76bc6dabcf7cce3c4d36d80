{"code":"!function(t){function i(s){if(e[s])return e[s].exports;var r=e[s]={i:s,l:!1,exports:{}};return t[s].call(r.exports,r,r.exports,i),r.l=!0,r.exports}var e={};i.m=t,i.c=e,i.d=function(t,e,s){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:s})},i.r=function(t){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(t,\"__esModule\",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&\"object\"==typeof t&&t&&t.__esModule)return t;var s=Object.create(null);if(i.r(s),Object.defineProperty(s,\"default\",{enumerable:!0,value:t}),2&e&&\"string\"!=typeof t)for(var r in t)i.d(s,r,function(i){return t[i]}.bind(null,r));return s},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,\"a\",e),e},i.o=function(t,i){return Object.prototype.hasOwnProperty.call(t,i)},i.p=\"\",i(i.s=1)}([function(t){function i(t,i,e){this._queue=[],this._priorities=[],this._sorting=\"desc\",this._init(t,i,e)}i.prototype.insert=function(t,i){for(var e=this._queue.length,s=e;s--;){var r=this._priorities[s];\"desc\"===this._sorting?i>r&&(e=s):i<r&&(e=s)}this._insertAt(t,i,e)},i.prototype.remove=function(t){for(var i=this._queue.length;i--;){if(t===this._queue[i]){this._queue.splice(i,1),this._priorities.splice(i,1);break}}},i.prototype.forEach=function(t){this._queue.forEach(t)},i.prototype.getElements=function(){return this._queue},i.prototype.getElementPriority=function(t){return this._priorities[t]},i.prototype.getPriorities=function(){return this._priorities},i.prototype.getElementsWithPriorities=function(){for(var t=[],i=0,e=this._queue.length;i<e;i++)t.push([this._queue[i],this._priorities[i]]);return t},i.prototype._init=function(t,i,e){if(t&&i){if(this._queue=[],this._priorities=[],t.length!==i.length)throw new Error(\"Arrays must have the same length\");for(var s=0;s<t.length;s++)this.insert(t[s],i[s])}e&&(this._sorting=e)},i.prototype._insertAt=function(t,i,e){this._queue.length===e?(this._queue.push(t),this._priorities.push(i)):(this._queue.splice(e,0,t),this._priorities.splice(e,0,i))},t.exports&&(t.exports=i)},function(t,i,e){e(2)},function(t,i,e){t.exports&&(t.exports={DBSCAN:e(3),KMEANS:e(4),OPTICS:e(5),PriorityQueue:e(0)})},function(t){function i(t,i,e,s){this.dataset=[],this.epsilon=1,this.minPts=2,this.distance=this._euclideanDistance,this.clusters=[],this.noise=[],this._visited=[],this._assigned=[],this._datasetLength=0,this._init(t,i,e,s)}i.prototype.run=function(t,i,e,s){this._init(t,i,e,s);for(var r=0;r<this._datasetLength;r++)if(1!==this._visited[r]){this._visited[r]=1;var n=this._regionQuery(r);if(n.length<this.minPts)this.noise.push(r);else{var o=this.clusters.length;this.clusters.push([]),this._addToCluster(r,o),this._expandCluster(o,n)}}return this.clusters},i.prototype._init=function(t,i,e,s){if(t){if(!(t instanceof Array))throw Error(\"Dataset must be of type array, \"+typeof t+\" given\");this.dataset=t,this.clusters=[],this.noise=[],this._datasetLength=t.length,this._visited=Array(this._datasetLength),this._assigned=Array(this._datasetLength)}i&&(this.epsilon=i),e&&(this.minPts=e),s&&(this.distance=s)},i.prototype._expandCluster=function(t,i){for(var e,s=0;s<i.length;s++){if(e=i[s],1!==this._visited[e]){this._visited[e]=1;var r=this._regionQuery(e);r.length>=this.minPts&&(i=this._mergeArrays(i,r))}1!==this._assigned[e]&&this._addToCluster(e,t)}},i.prototype._addToCluster=function(t,i){this.clusters[i].push(t),this._assigned[t]=1},i.prototype._regionQuery=function(t){for(var i=[],e=0;e<this._datasetLength;e++)this.distance(this.dataset[t],this.dataset[e])<this.epsilon&&i.push(e);return i},i.prototype._mergeArrays=function(t,i){for(var e,s=i.length,r=0;r<s;r++)e=i[r],0>t.indexOf(e)&&t.push(e);return t},i.prototype._euclideanDistance=function(t,i){for(var e=0,s=Math.min(t.length,i.length);s--;)e+=(t[s]-i[s])*(t[s]-i[s]);return Math.sqrt(e)},t.exports&&(t.exports=i)},function(t){function i(t,i,e){this.k=3,this.dataset=[],this.assignments=[],this.centroids=[],this.init(t,i,e)}i.prototype.init=function(t,i,e){this.assignments=[],this.centroids=[],void 0!==t&&(this.dataset=t),void 0!==i&&(this.k=i),void 0!==e&&(this.distance=e)},i.prototype.run=function(t,i){this.init(t,i);for(var e=this.dataset.length,s=0;s<this.k;s++)this.centroids[s]=this.randomCentroid();for(var r=!0;r;){r=this.assign();for(var n=0;n<this.k;n++){for(var o=Array(u),h=0,a=0;a<u;a++)o[a]=0;for(var u,p=0;p<e;p++)if(u=this.dataset[p].length,n===this.assignments[p]){for(a=0;a<u;a++)o[a]+=this.dataset[p][a];h++}if(0<h){for(a=0;a<u;a++)o[a]/=h;this.centroids[n]=o}else this.centroids[n]=this.randomCentroid(),r=!0}}return this.getClusters()},i.prototype.randomCentroid=function(){var t,i,e=this.dataset.length-1;do{i=Math.round(Math.random()*e),t=this.dataset[i]}while(0<=this.centroids.indexOf(t));return t},i.prototype.assign=function(){for(var t,i=!1,e=this.dataset.length,s=0;s<e;s++)(t=this.argmin(this.dataset[s],this.centroids,this.distance))!=this.assignments[s]&&(this.assignments[s]=t,i=!0);return i},i.prototype.getClusters=function(){for(var t,i=Array(this.k),e=0;e<this.assignments.length;e++)void 0===i[t=this.assignments[e]]&&(i[t]=[]),i[t].push(e);return i},i.prototype.argmin=function(t,i,e){for(var s,r=Number.MAX_VALUE,n=0,o=i.length,h=0;h<o;h++)(s=e(t,i[h]))<r&&(r=s,n=h);return n},i.prototype.distance=function(t,i){for(var e=0,s=Math.min(t.length,i.length);s--;){var r=t[s]-i[s];e+=r*r}return Math.sqrt(e)},t.exports&&(t.exports=i)},function(t,i,e){function s(t,i,e,s){this.epsilon=1,this.minPts=1,this.distance=this._euclideanDistance,this._reachability=[],this._processed=[],this._coreDistance=0,this._orderedList=[],this._init(t,i,e,s)}if(t.exports)var r=e(0);s.prototype.run=function(t,i,e,s){this._init(t,i,e,s);for(var n=0,o=this.dataset.length;n<o;n++)if(1!==this._processed[n]){this._processed[n]=1,this.clusters.push([n]);var h=this.clusters.length-1;this._orderedList.push(n);var a=new r(null,null,\"asc\"),u=this._regionQuery(n);void 0!==this._distanceToCore(n)&&(this._updateQueue(n,u,a),this._expandCluster(h,a))}return this.clusters},s.prototype.getReachabilityPlot=function(){for(var t=[],i=0,e=this._orderedList.length;i<e;i++){var s=this._orderedList[i],r=this._reachability[s];t.push([s,r])}return t},s.prototype._init=function(t,i,e,s){if(t){if(!(t instanceof Array))throw Error(\"Dataset must be of type array, \"+typeof t+\" given\");this.dataset=t,this.clusters=[],this._reachability=Array(this.dataset.length),this._processed=Array(this.dataset.length),this._coreDistance=0,this._orderedList=[]}i&&(this.epsilon=i),e&&(this.minPts=e),s&&(this.distance=s)},s.prototype._updateQueue=function(t,i,e){var s=this;this._coreDistance=this._distanceToCore(t),i.forEach(function(i){if(void 0===s._processed[i]){var r=s.distance(s.dataset[t],s.dataset[i]),n=Math.max(s._coreDistance,r);void 0===s._reachability[i]?(s._reachability[i]=n,e.insert(i,n)):n<s._reachability[i]&&(s._reachability[i]=n,e.remove(i),e.insert(i,n))}})},s.prototype._expandCluster=function(t,i){for(var e,s=i.getElements(),r=0,n=s.length;r<n;r++)if(e=s[r],void 0===this._processed[e]){var o=this._regionQuery(e);this._processed[e]=1,this.clusters[t].push(e),this._orderedList.push(e),void 0!==this._distanceToCore(e)&&(this._updateQueue(e,o,i),this._expandCluster(t,i))}},s.prototype._distanceToCore=function(t){for(var i=this.epsilon,e=0;e<i;e++)if(this._regionQuery(t,e).length>=this.minPts)return e},s.prototype._regionQuery=function(t,i){i=i||this.epsilon;for(var e=[],s=0,r=this.dataset.length;s<r;s++)this.distance(this.dataset[t],this.dataset[s])<i&&e.push(s);return e},s.prototype._euclideanDistance=function(t,i){for(var e=0,s=Math.min(t.length,i.length);s--;)e+=(t[s]-i[s])*(t[s]-i[s]);return Math.sqrt(e)},t.exports&&(t.exports=s)}]);","extractedComments":[]}